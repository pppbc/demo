{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js!/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/orderPage/commentPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/orderPage/commentPage.vue","mtime":1568790080000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/student02/Desktop/youduitong1/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/col/style\";\nimport _Col from \"vant/es/col\";\nimport \"vant/es/row/style\";\nimport _Row from \"vant/es/row\";\nimport \"vant/es/card/style\";\nimport _Card from \"vant/es/card\";\nimport \"vant/es/field/style\";\nimport _Field from \"vant/es/field\";\nimport \"vant/es/image/style\";\nimport _Image from \"vant/es/image\";\nimport \"vant/es/rate/style\";\nimport _Rate from \"vant/es/rate\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\n\nvar _components;\n\nexport default {\n  components: (_components = {}, _defineProperty(_components, _NavBar.name, _NavBar), _defineProperty(_components, _Rate.name, _Rate), _defineProperty(_components, _Image.name, _Image), _defineProperty(_components, _Field.name, _Field), _defineProperty(_components, _Card.name, _Card), _defineProperty(_components, _Row.name, _Row), _defineProperty(_components, _Col.name, _Col), _defineProperty(_components, _Toast.name, _Toast), _components),\n  data: function data() {\n    return {\n      data: '',\n      rate: 0,\n      message: ''\n    };\n  },\n  methods: {\n    goBack: function goBack() {\n      this.$router.back();\n    },\n    onSubmit: function onSubmit() {\n      var _this = this;\n\n      var title = '';\n\n      if (this.rate === 1 || this.rate === 2) {\n        title = '差评';\n      }\n\n      if (this.rate === 3 || this.rate === 4) {\n        title = '中评';\n      }\n\n      if (this.rate === 5) {\n        title = '好评';\n      }\n\n      if (this.rate === 0) {\n        _Toast('请选择你的评分');\n\n        return;\n      }\n\n      var url = '/order/addComment?token=' + this.$store.state.token;\n      var data = {\n        UserID: this.$store.state.userID,\n        OrderNo: this.data.OrderNo,\n        ProductID: this.data.ProductID,\n        Title: title,\n        Content: this.message\n      };\n      this.axios.post(url, data).then(function (response) {\n        if (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n          _Toast('登陆过期，请重新登录');\n\n          _this.$router.push('/login');\n        } else if (response.data.status === 1) {\n          _Toast('评论成功');\n\n          setTimeout(function () {\n            _this.$router.back();\n          }, 1000);\n        }\n      }).catch(function (response) {\n        _Toast('网络请求出错，请重试');\n      });\n    }\n  },\n  beforeMount: function beforeMount() {\n    this.data = this.$store.state.commentData;\n  }\n};",{"version":3,"sources":["commentPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AA4CA,eAAA;AACA,EAAA,UAAA,kDACA,QAAA,IADA,yCAEA,MAAA,IAFA,uCAGA,OAAA,IAHA,wCAIA,OAAA,IAJA,wCAKA,MAAA,IALA,uCAMA,KAAA,IANA,sCAOA,KAAA,IAPA,sCAQA,OAAA,IARA,uBADA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,CAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,OAAA,CAAA,IAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AAAA;;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,UAAA,KAAA,IAAA,KAAA,CAAA,IAAA,KAAA,IAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,IAAA;AACA;;AACA,UAAA,KAAA,IAAA,KAAA,CAAA,IAAA,KAAA,IAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,IAAA;AACA;;AACA,UAAA,KAAA,IAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,IAAA;AACA;;AACA,UAAA,KAAA,IAAA,KAAA,CAAA,EAAA;AACA,eAAA,SAAA;;AACA;AACA;;AACA,UAAA,GAAA,GAAA,6BAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,MAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MADA;AAEA,QAAA,OAAA,EAAA,KAAA,IAAA,CAAA,OAFA;AAGA,QAAA,SAAA,EAAA,KAAA,IAAA,CAAA,SAHA;AAIA,QAAA,KAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KAAA;AALA,OAAA;AAOA,WAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,MAAA,IAAA,QAAA,CAAA,IAAA,CAAA,MAAA,KAAA,cAAA,EAAA;AACA,iBAAA,YAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,SAHA,MAGA,IAAA,QAAA,CAAA,IAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,iBAAA,MAAA;;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA;AACA,WAFA,EAEA,IAFA,CAAA;AAGA;AACA,OAVA,EAUA,KAVA,CAUA,UAAA,QAAA,EAAA;AACA,eAAA,YAAA;AACA,OAZA;AAaA;AAxCA,GAlBA;AA4DA,EAAA,WA5DA,yBA4DA;AACA,SAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA;AACA;AA9DA,CAAA","sourcesContent":["<template>\n\t<div>\n\t\t<van-nav-bar\n\t\t\ttitle=\"发表评价\"\n\t\t\tright-text=\"提交\"\n\t\t\tleft-arrow\n\t\t\tfixed\n\t\t\t@click-left=\"goBack\"\n\t\t\t@click-right=\"onSubmit\"\n\t\t/>\n\t\t\n\t\t<van-card\n\t\t\t:num=\"data.Quantity\"\n\t\t\t:price=\"data.CurrentUnitPrice\"\n\t\t\t:title=\"data.ProductName\"\n\t\t\t:thumb=\"data.ProductImage\"\n\t\t\tcurrency=\"Block\"\n\t\t/>\n\t\t\n\t\t<van-row class=\"rate\">\n\t\t\t<van-col span=\"4\">评分</van-col>\n\t\t\t<van-col span=\"20\"><van-rate v-model=\"rate\"/></van-col>\n\t\t</van-row>\n\t\t\n\t\t<van-row class=\"comment\">\n\t\t\t<van-col span=\"24\">\n\t\t\t\t<van-field\n\t\t\t\t\tv-model=\"message\"\n\t\t\t\t\tlabel=\"留言\"\n\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\tplaceholder=\"宝贝满足你的期待吗?说说你的使用心得,分享给想买的他们吧\"\n\t\t\t\t\tlabel-width=\"3rem\"\n\t\t\t\t\tmaxlength=\"500\"\n\t\t\t\t\tautosize\n\t\t\t\t/>\n\t\t\t</van-col>\n\t\t</van-row>\n\t\t\n\t\t\n\t</div>\n</template>\n\n<script>\n\timport {NavBar,Rate,Image,Field,Card,Row,Col,Toast} from 'vant'\n\texport default{\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[Rate.name]:Rate,\n\t\t\t[Image.name]:Image,\n\t\t\t[Field.name]:Field,\n\t\t\t[Card.name]:Card,\n\t\t\t[Row.name]:Row,\n\t\t\t[Col.name]:Col,\n\t\t\t[Toast.name]:Toast\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tdata:'',\n\t\t\t\trate:0,\n\t\t\t\tmessage:''\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgoBack(){\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tonSubmit(){\n\t\t\t\tvar title = ''\n\t\t\t\tif (this.rate === 1 || this.rate === 2) {\n\t\t\t\t\ttitle = '差评'\n\t\t\t\t}\n\t\t\t\tif (this.rate === 3 || this.rate === 4) {\n\t\t\t\t\ttitle = '中评'\n\t\t\t\t}\n\t\t\t\tif (this.rate === 5) {\n\t\t\t\t\ttitle = '好评'\n\t\t\t\t}\n\t\t\t\tif (this.rate === 0) {\n\t\t\t\t\tToast('请选择你的评分')\n\t\t\t\t\treturn \n\t\t\t\t}\n\t\t\t\tvar url = '/order/addComment?token='+this.$store.state.token\n\t\t\t\tvar data = {\n\t\t\t\t\tUserID : this.$store.state.userID,\n\t\t\t\t\tOrderNo : this.data.OrderNo,\n\t\t\t\t\tProductID : this.data.ProductID,\n\t\t\t\t\tTitle : title,\n\t\t\t\t\tContent : this.message\n\t\t\t\t}\n\t\t\t\tthis.axios.post(url,data).then((response)=>{\n\t\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\t\tToast('评论成功')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tbeforeMount() {\n\t\t\tthis.data = this.$store.state.commentData\n\t\t}\n\t\t\n\t}\n</script>\n\n<style scoped>\n\t.van-nav-bar__arrow{\n\t\tfont-size: 1.5rem;\n\t\tcolor: #000000;\n\t}\n\t.van-nav-bar__text{\n\t\tcolor: #000000;\n\t}\n\t.van-card{\n\t\tmargin-top: 2.875rem;\n\t}\n\t.van-card__title{\n\t\ttext-align: left;\n\t}\n\t.van-card__price{\n\t\tfloat: left;\n\t}\n\t.rate{\n\t\tbackground: #fafafa;\n\t\tpadding: 0.625rem 0;\n\t}\n\t.rate .van-col:last-child{\n\t\ttext-align: left;\n\t}\n\t.comment{\n\t\ttext-align: left;\n\t}\n\t.comment .van-field{\n\t\tbackground: #fafafa;\n\t}\n\t\n</style>\n"],"sourceRoot":"src/pages/orderPage"}]}