{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js!/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/components/goodsTabs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/components/goodsTabs.vue","mtime":1568897092000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/student02/Desktop/youduitong1/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/student02/Desktop/youduitong1/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\nimport \"vant/es/tabs/style\";\nimport _Tabs from \"vant/es/tabs\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/tab/style\";\nimport _Tab from \"vant/es/tab\";\n\nvar _components;\n\nimport doubleCard from '@/components/double-card.vue';\nexport default {\n  components: (_components = {}, _defineProperty(_components, _Tab.name, _Tab), _defineProperty(_components, _Tabs.name, _Tabs), _defineProperty(_components, _List.name, _List), _defineProperty(_components, _Toast.name, _Toast), _defineProperty(_components, \"doubleCard\", doubleCard), _components),\n  data: function data() {\n    return {\n      active: 0,\n      tabs: [{\n        ID: 0,\n        ParentID: 0,\n        Name: '全部商品',\n        Status: 0,\n        SortOrder: 0,\n        Detail: '',\n        CreateTime: '',\n        UpdateTime: ''\n      }],\n      colSpan: 12,\n      goods: [],\n      loading: false,\n      finished: false,\n      offsetTop: 46\n    };\n  },\n  methods: {\n    tabChange: function tabChange(name) {\n      this.loading = false, this.finished = false;\n      this.goods = [];\n      this.$store.commit('requestMallcount', 0);\n      var pid = this.tabs[name].ID;\n      this.getGoods(this.$store.state.requestMallcount, pid);\n    },\n    getGoods: function getGoods(count, pid) {\n      var _this = this;\n\n      if (pid === 0) {\n        var url = '/product/allList?page=' + count;\n        this.axios.get(url).then(function (response) {\n          if (response.data.status === 1) {\n            if (response.data.obj.length > 0) {\n              _this.$store.commit('requestMallcount', 1);\n\n              _this.goods = [].concat(_toConsumableArray(_this.goods), _toConsumableArray(response.data.obj));\n            } else {\n              _this.finished = true;\n            }\n          }\n        }).catch(function (response) {\n          _Toast('网络请求出错，请重试');\n        });\n      } else {\n        var url = '/product/getProductList?page=' + count + '&category=' + pid;\n        this.axios.get(url).then(function (response) {\n          if (response.data.status === 1) {\n            if (response.data.obj.length > 0) {\n              _this.$store.commit('requestMallcount', 1);\n\n              _this.goods = [].concat(_toConsumableArray(_this.goods), _toConsumableArray(response.data.obj));\n            } else {\n              _this.finished = true;\n            }\n          }\n        }).catch(function (response) {\n          _Toast('网络请求出错，请重试');\n        });\n      }\n    },\n    getCategory: function getCategory() {\n      var _this2 = this;\n\n      var url = '/product/getCat';\n      this.axios.get(url).then(function (response) {\n        // console.log(response)\n        if (response.data.status === 1 && response.data.obj.length > 0) {\n          _this2.tabs = [].concat(_toConsumableArray(_this2.tabs), _toConsumableArray(response.data.obj));\n        } else {\n          _Toast(\"数据请求出错，请重试\");\n        }\n      }).catch(function (response) {\n        _Toast(\"网络请求出错，请重试\");\n      });\n    },\n    onLoad: function onLoad() {\n      var _this3 = this;\n\n      var pid = this.tabs[this.active].ID;\n      setTimeout(function () {\n        _this3.getGoods(_this3.$store.state.requestMallcount, pid);\n\n        _this3.loading = false;\n      }, 500);\n    }\n  },\n  mounted: function mounted() {\n    this.getCategory();\n    this.$store.commit('requestMallcount', 0);\n    this.getGoods(this.$store.state.requestMallcount, this.active);\n  }\n};",{"version":3,"sources":["goodsTabs.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<van-tabs v-model=\"active\" color=\"#ff0000\" title-active-color=\"#ff0000\" @change=\"tabChange\" swipeable animated sticky :offset-top=\"offsetTop\">\n\t\t<van-tab v-for=\"(item,index) in tabs\" :key=\"index\" :title=\"item.Name\">\n\t\t\t<van-list\n\t\t\t\tv-model=\"loading\"\n\t\t\t\t:finished=\"finished\"\n\t\t\t\tfinished-text=\"没有更多了\"\n\t\t\t\t@load=\"onLoad\"\n\t\t\t>\n\t\t\t\t<double-card :colSpan=\"colSpan\" :doubleCardItems=\"goods\" fromPage=\"mall\"></double-card>\n\t\t\t</van-list>\n\t\t</van-tab>\n\t</van-tabs>\n</template>\n\n<script>\n\timport {Tab,Tabs,List,Toast} from 'vant'\n\timport doubleCard from '@/components/double-card.vue'\n\texport default{\n\t\tcomponents:{\n\t\t\t[Tab.name]:Tab,\n\t\t\t[Tabs.name]:Tabs,\n\t\t\t[List.name]:List,\n\t\t\t[Toast.name]:Toast,\n\t\t\tdoubleCard\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tactive:0,\n\t\t\t\ttabs:[{\n\t\t\t\t\tID:0,\n\t\t\t\t\tParentID:0,\n\t\t\t\t\tName:'全部商品',\n\t\t\t\t\tStatus:0,\n\t\t\t\t\tSortOrder:0,\n\t\t\t\t\tDetail:'',\n\t\t\t\t\tCreateTime:'',\n\t\t\t\t\tUpdateTime:''\n\t\t\t\t}],\n\t\t\t\tcolSpan:12,\n\t\t\t\tgoods:[],\n\t\t\t\tloading:false,\n\t\t\t\tfinished:false,\n\t\t\t\toffsetTop:46\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\ttabChange(name){\n\t\t\t\tthis.loading = false,\n\t\t\t\tthis.finished = false\n\t\t\t\tthis.goods = []\n\t\t\t\tthis.$store.commit('requestMallcount',0)\n\t\t\t\tvar pid = this.tabs[name].ID\n\t\t\t\tthis.getGoods(this.$store.state.requestMallcount,pid)\n\t\t\t},\n\t\t\tgetGoods(count,pid){\n\t\t\t\tif (pid === 0) {\n\t\t\t\t\tvar url = '/product/allList?page='+count\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\t\t\tif (response.data.obj.length > 0) {\n\t\t\t\t\t\t\t\tthis.$store.commit('requestMallcount',1)\n\t\t\t\t\t\t\t\tthis.goods = [...this.goods,...response.data.obj]\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tthis.finished = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t\t})\n\t\t\t\t} else{\n\t\t\t\t\tvar url = '/product/getProductList?page='+count+'&category='+pid\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\t\t\tif (response.data.obj.length > 0) {\n\t\t\t\t\t\t\t\tthis.$store.commit('requestMallcount',1)\n\t\t\t\t\t\t\t\tthis.goods = [...this.goods,...response.data.obj]\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tthis.finished = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetCategory(){\n\t\t\t\tvar url = '/product/getCat'\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t// console.log(response)\n\t\t\t\t\tif (response.data.status === 1 && response.data.obj.length > 0) {\n\t\t\t\t\t\tthis.tabs = [...this.tabs,...response.data.obj]\n\t\t\t\t\t} else{\n\t\t\t\t\t\tToast(\"数据请求出错，请重试\")\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast(\"网络请求出错，请重试\")\n\t\t\t\t})\n\t\t\t},\n\t\t\tonLoad(){\n\t\t\t\tvar pid = this.tabs[this.active].ID\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.getGoods(this.$store.state.requestMallcount,pid)\n\t\t\t\t\tthis.loading = false\n\t\t\t\t},500)\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getCategory()\n\t\t\tthis.$store.commit('requestMallcount',0)\n\t\t\tthis.getGoods(this.$store.state.requestMallcount,this.active)\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.van-tab{\n\t\tpadding: 0;\n\t}\n</style>\n"],"sourceRoot":"src/components"}]}