{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js!/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/setting/loginPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/setting/loginPassword.vue","mtime":1567916765000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/student02/Desktop/youduitong1/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"vant/es/loading/style\";\nimport _Loading from \"vant/es/loading\";\nimport \"vant/es/overlay/style\";\nimport _Overlay from \"vant/es/overlay\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/button/style\";\nimport _Button from \"vant/es/button\";\nimport \"vant/es/field/style\";\nimport _Field from \"vant/es/field\";\nimport \"vant/es/cell-group/style\";\nimport _CellGroup from \"vant/es/cell-group\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\n\nvar _components;\n\nimport { Images } from '@/resources/index.js';\nimport Util from '@/utils/Utils.js';\nexport default {\n  components: (_components = {}, _defineProperty(_components, _NavBar.name, _NavBar), _defineProperty(_components, _CellGroup.name, _CellGroup), _defineProperty(_components, _Field.name, _Field), _defineProperty(_components, _Button.name, _Button), _defineProperty(_components, _Toast.name, _Toast), _defineProperty(_components, _Overlay.name, _Overlay), _defineProperty(_components, _Loading.name, _Loading), _components),\n  data: function data() {\n    return {\n      show: false,\n      loadingText: '修改中...',\n      oldPassword: '',\n      newPassword1: '',\n      newPassword2: '',\n      rightIcon: Images.login.ic_lock\n    };\n  },\n  methods: {\n    goBack: function goBack() {\n      this.$router.back();\n    },\n    onSubmit: function onSubmit() {\n      var _this = this;\n\n      if (this.checkPwd()) {\n        this.show = true;\n        this.loadingText = '修改中...';\n        var url = '/user/pwd?phonenum=' + this.$store.state.username + '&oldPwd=' + this.oldPassword + '&newPwd=' + this.newPassword2 + '&token=' + this.$store.state.token;\n        this.axios.get(url).then(function (response) {\n          if (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n            _Toast('登陆过期，请重新登录');\n\n            _this.$router.push('/login');\n          } else if (response.data.status === 1) {\n            setTimeout(function () {\n              _this.loadingText = response.data.detail;\n              setTimeout(function () {\n                _this.show = false;\n\n                _this.$router.back();\n              }, 500);\n            }, 1000);\n          } else {\n            setTimeout(function () {\n              _Toast('密码修改失败，请重试');\n\n              _this.show = false;\n            }, 1000);\n          }\n        }).catch(function (response) {\n          setTimeout(function () {\n            _Toast('网络请求出错，请稍候再试!');\n\n            _this.show = false;\n          }, 1000);\n        });\n      }\n    },\n    checkPwd: function checkPwd() {\n      if (this.oldPassword === '' || !this.newPassword1 === '' || this.newPassword2 === '') {\n        _Toast('密码不能为空');\n\n        return false;\n      }\n\n      if (!Util.isPassword(this.newPassword1)) {\n        _Toast('密码必须是6位以上的字母数字符号中任意两种或三种组合');\n\n        return false;\n      }\n\n      if (this.newPassword1 !== this.newPassword2) {\n        _Toast('新密码不一致');\n\n        return false;\n      }\n\n      if (this.oldPassword === this.newPassword1) {\n        _Toast('新密码不能与原密码相同');\n\n        return false;\n      }\n\n      return true;\n    }\n  }\n};",{"version":3,"sources":["loginPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAwBA,SAAA,MAAA,QAAA,sBAAA;AACA,OAAA,IAAA,MAAA,kBAAA;AACA,eAAA;AACA,EAAA,UAAA,kDACA,QAAA,IADA,yCAEA,WAAA,IAFA,4CAGA,OAAA,IAHA,wCAIA,QAAA,IAJA,yCAKA,OAAA,IALA,wCAMA,SAAA,IANA,0CAOA,SAAA,IAPA,yBADA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA,QAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA,EAJA;AAKA,MAAA,YAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,MAAA,CAAA,KAAA,CAAA;AANA,KAAA;AAQA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,OAAA,CAAA,IAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AAAA;;AACA,UAAA,KAAA,QAAA,EAAA,EAAA;AACA,aAAA,IAAA,GAAA,IAAA;AACA,aAAA,WAAA,GAAA,QAAA;AACA,YAAA,GAAA,GAAA,wBAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,UAAA,GAAA,KAAA,WAAA,GAAA,UAAA,GAAA,KAAA,YAAA,GAAA,SAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA;AACA,aAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,MAAA,IAAA,QAAA,CAAA,IAAA,CAAA,MAAA,KAAA,cAAA,EAAA;AACA,mBAAA,YAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAHA,MAGA,IAAA,QAAA,CAAA,IAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,YAAA,UAAA,CAAA,YAAA;AACA,cAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA,cAAA,UAAA,CAAA,YAAA;AACA,gBAAA,KAAA,CAAA,IAAA,GAAA,KAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA;AACA,eAHA,EAGA,GAHA,CAAA;AAIA,aANA,EAMA,IANA,CAAA;AAOA,WARA,MAQA;AACA,YAAA,UAAA,CAAA,YAAA;AACA,qBAAA,YAAA;;AACA,cAAA,KAAA,CAAA,IAAA,GAAA,KAAA;AACA,aAHA,EAGA,IAHA,CAAA;AAIA;AACA,SAlBA,EAkBA,KAlBA,CAkBA,UAAA,QAAA,EAAA;AACA,UAAA,UAAA,CAAA,YAAA;AACA,mBAAA,eAAA;;AACA,YAAA,KAAA,CAAA,IAAA,GAAA,KAAA;AACA,WAHA,EAGA,IAHA,CAAA;AAIA,SAvBA;AAwBA;AACA,KAlCA;AAmCA,IAAA,QAnCA,sBAmCA;AACA,UAAA,KAAA,WAAA,KAAA,EAAA,IAAA,CAAA,KAAA,YAAA,KAAA,EAAA,IAAA,KAAA,YAAA,KAAA,EAAA,EAAA;AACA,eAAA,QAAA;;AACA,eAAA,KAAA;AACA;;AACA,UAAA,CAAA,IAAA,CAAA,UAAA,CAAA,KAAA,YAAA,CAAA,EAAA;AACA,eAAA,4BAAA;;AACA,eAAA,KAAA;AACA;;AACA,UAAA,KAAA,YAAA,KAAA,KAAA,YAAA,EAAA;AACA,eAAA,QAAA;;AACA,eAAA,KAAA;AACA;;AACA,UAAA,KAAA,WAAA,KAAA,KAAA,YAAA,EAAA;AACA,eAAA,aAAA;;AACA,eAAA,KAAA;AACA;;AACA,aAAA,IAAA;AACA;AArDA;AApBA,CAAA","sourcesContent":["<template>\n\t<div>\n\t\t<van-nav-bar\n\t\t\ttitle=\"登录密码\"\n\t\t\tleft-arrow\n\t\t\t@click-left=\"goBack\"\n\t\t/>\n\t\t\n\t\t<van-cell-group>\n\t\t\t<van-field v-model=\"oldPassword\" type=\"password\" maxlength=\"16\" placeholder=\"原密码\" :right-icon=\"rightIcon\" clearable/>\n\t\t\t<van-field v-model=\"newPassword1\" type=\"password\" maxlength=\"16\" placeholder=\"新密码\" :right-icon=\"rightIcon\" clearable/>\n\t\t\t<van-field v-model=\"newPassword2\" type=\"password\" maxlength=\"16\" placeholder=\"确认密码\" :right-icon=\"rightIcon\" clearable/>\n\t\t</van-cell-group>\n\t\t\n\t\t<van-overlay :show=\"show\" class-name=\"overlay\" />\n\t\t<van-loading v-if=\"show\" vertical>{{loadingText}}</van-loading>\n\t\t\n\t\t<van-button round type=\"danger\" @click=\"onSubmit\">确 定</van-button>\n\t\t\n\t</div>\n</template>\n\n<script>\n\timport {NavBar,CellGroup,Field,Button,Toast,Overlay,Loading} from 'vant'\n\timport {Images} from '@/resources/index.js'\n\timport Util from '@/utils/Utils.js'\n\texport default{\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[CellGroup.name]:CellGroup,\n\t\t\t[Field.name]:Field,\n\t\t\t[Button.name]:Button,\n\t\t\t[Toast.name]:Toast,\n\t\t\t[Overlay.name]:Overlay,\n\t\t\t[Loading.name]:Loading\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tshow:false,\n\t\t\t\tloadingText:'修改中...',\n\t\t\t\toldPassword:'',\n\t\t\t\tnewPassword1:'',\n\t\t\t\tnewPassword2:'',\n\t\t\t\trightIcon:Images.login.ic_lock\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgoBack(){\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tonSubmit(){\n\t\t\t\tif (this.checkPwd()) {\n\t\t\t\t\tthis.show = true\n\t\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\t\tvar url = '/user/pwd?phonenum='+this.$store.state.username+'&oldPwd='+this.oldPassword+'&newPwd='+this.newPassword2+'&token='+this.$store.state.token\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.loadingText = response.data.detail\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast('密码修改失败，请重试')\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckPwd(){\n\t\t\t\tif (this.oldPassword === '' || !this.newPassword1 === '' || this.newPassword2 === '') {\n\t\t\t\t\tToast('密码不能为空')\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (!Util.isPassword(this.newPassword1)) {\n\t\t\t\t\tToast('密码必须是6位以上的字母数字符号中任意两种或三种组合')\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (this.newPassword1 !== this.newPassword2) {\n\t\t\t\t\tToast('新密码不一致')\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (this.oldPassword === this.newPassword1) {\n\t\t\t\t\tToast('新密码不能与原密码相同')\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t},\n\t\t\t\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.van-nav-bar__arrow{\n\t\tcolor: black;\n\t\tfont-size: 1.2rem;\n\t}\n\t.van-cell-group{\n\t\tmargin: 0.625rem 0.625rem 0 0.625rem;\n\t\tborder-radius: 0.625rem;\n\t\toverflow: hidden;\n\t}\n\t.van-button{\n\t\twidth: 15rem;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0.9375rem;\n\t\tmargin: 0 auto;\n\t}\n\t.overlay{\n\t\tbackground-color: rgba(0,0,0,0);\n\t}\n</style>\n"],"sourceRoot":"src/pages/setting"}]}