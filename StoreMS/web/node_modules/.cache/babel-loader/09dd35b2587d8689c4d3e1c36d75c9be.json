{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js!/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/mall.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/mall.vue","mtime":1569558892000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/student02/Desktop/youduitong1/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/student02/Desktop/youduitong1/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/col/style\";\nimport _Col from \"vant/es/col\";\nimport \"vant/es/row/style\";\nimport _Row from \"vant/es/row\";\nimport \"vant/es/button/style\";\nimport _Button from \"vant/es/button\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\n\nvar _components;\n\nimport { Images } from \"../resources/index.js\";\nimport myIntegral from '@/components/myIntegral.vue';\nimport swipe from '@/components/swipe.vue';\nimport goodsTabs from '@/components/goodsTabs.vue';\nexport default {\n  inject: ['reload'],\n  components: (_components = {}, _defineProperty(_components, _NavBar.name, _NavBar), _defineProperty(_components, _Toast.name, _Toast), _defineProperty(_components, _Button.name, _Button), _defineProperty(_components, _Row.name, _Row), _defineProperty(_components, _Col.name, _Col), _defineProperty(_components, _Icon.name, _Icon), _defineProperty(_components, \"myIntegral\", myIntegral), _defineProperty(_components, \"swipe\", swipe), _defineProperty(_components, \"goodsTabs\", goodsTabs), _components),\n  data: function data() {\n    return {\n      bg: Images.common.ic_header_bg,\n      border: false,\n      goods: [],\n      category: [],\n      categoryIcon: Images.shop.ic_category_icon,\n      categoryAlls: [{\n        \"ID\": 0,\n        \"ParentID\": 0,\n        \"Name\": \"全部商品\",\n        \"Status\": 0,\n        \"SortOrder\": 0,\n        \"Detail\": \"\",\n        \"CreateTime\": \"\",\n        \"UpdateTime\": \"\"\n      }],\n      isonline: navigator.onLine,\n      noNetwork: Images.common.ic_no_network\n    };\n  },\n  methods: {\n    getCategory: function getCategory() {\n      var _this = this;\n\n      var url = '/product/getCat';\n      this.axios.get(url).then(function (response) {\n        if (response.data.obj.length > 0) {\n          _this.category = [].concat(_toConsumableArray(_this.category), _toConsumableArray(response.data.obj));\n\n          _this.categoryAll();\n        }\n      }).catch(function (response) {\n        _Toast('网络请求出错，请重试');\n      });\n    },\n    categoryAll: function categoryAll() {\n      var _this2 = this;\n\n      this.category.map(function (item, index) {\n        _this2.categoryAlls.push(item);\n      });\n    },\n    netApi: function netApi(count, pid) {\n      var _this3 = this;\n\n      if (pid === 0) {\n        var url = '/product/allList?page=' + count;\n        this.axios.get(url).then(function (response) {\n          if (response.data.status === 1 && response.data.obj.length > 0) {\n            _this3.$store.commit('requestMallcount2');\n\n            _this3.goods = [].concat(_toConsumableArray(_this3.goods), _toConsumableArray(response.data.obj));\n          }\n        }).catch(function (response) {\n          _Toast('网络请求出错，请重试');\n        });\n      } else {\n        var url = '/product/getProductList?page=' + count + '&category=' + pid;\n        this.axios.get(url).then(function (response) {\n          _this3.$store.commit('requestMallcount2');\n\n          _this3.goods = [].concat(_toConsumableArray(_this3.goods), _toConsumableArray(response.data.obj));\n        }).catch(function (response) {\n          _Toast('网络请求出错，请重试');\n        });\n      }\n    },\n    updateOnlineStatus: function updateOnlineStatus(e) {\n      var type = e.type;\n      this.isonline = type === 'online';\n    },\n    onRefresh: function onRefresh() {\n      var _this4 = this;\n\n      this.$store.commit('changeTabbarActive', 'mall');\n      this.$nextTick(function () {\n        _this4.reload();\n      });\n    },\n    goCart: function goCart() {\n      this.$store.commit('fromPage', 'mall');\n      this.$router.push('/cart');\n    }\n  },\n  computed: {\n    avatar: function avatar() {\n      return this.$store.state.avatar;\n    },\n    allActicities: function allActicities() {\n      return this.$store.state.allActicities.slice(0, 5);\n    },\n    allBlock: function allBlock() {\n      return this.$store.getters.allBlock;\n    }\n  },\n  beforeMount: function beforeMount() {\n    this.getCategory();\n    this.netApi(this.$store.state.requestMallcount1, 0);\n  },\n  mounted: function mounted() {\n    window.addEventListener('online', this.updateOnlineStatus);\n    window.addEventListener('offline', this.updateOnlineStatus);\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('online', this.updateOnlineStatus);\n    window.removeEventListener('offline', this.updateOnlineStatus);\n  },\n  watch: {\n    isonline: function isonline() {\n      this.isonline = navigator.onLine;\n    }\n  }\n};",{"version":3,"sources":["mall.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div id=\"mall\">\n\t\t<img class=\"bg\" :src=\"bg\" alt=\"\">\n\t\t<van-nav-bar \n\t\t\ttitle=\"商城\"\n\t\t\t:border=\"border\"\n\t\t\tfixed\n\t\t>\n\t\t\t<van-icon name=\"shopping-cart-o\" slot=\"right\" @click=\"goCart\"/>\n\t\t</van-nav-bar>\n\t\t\n\t\t<div v-if=\"isonline\">\n\t\t\t<my-integral :avatar=\"avatar\" :allBlock=\"allBlock\"></my-integral>\n\t\t\t\n\t\t\t<swipe :swipeItems=\"allActicities\"></swipe>\n\t\t\t\n\t\t\t<van-row>\n\t\t\t\t<van-col span=\"6\">\n\t\t\t\t\t<van-button class=\"btn1\">\n\t\t\t\t\t\t<div class=\"t1\">现在</div>\n\t\t\t\t\t\t<div class=\"t2\">可兑换商品</div>\n\t\t\t\t\t</van-button>\n\t\t\t\t</van-col>\n\t\t\t\t<van-col span=\"6\">\n\t\t\t\t\t<van-button class=\"btn2\">\n\t\t\t\t\t\t<div class=\"t1\">1个月后</div>\n\t\t\t\t\t\t<div class=\"t2\">可兑换商品</div>\n\t\t\t\t\t</van-button>\n\t\t\t\t</van-col>\n\t\t\t\t<van-col span=\"6\">\n\t\t\t\t\t<van-button class=\"btn3\">\n\t\t\t\t\t\t<div class=\"t1\">3个月后</div>\n\t\t\t\t\t\t<div class=\"t2\">可兑换商品</div>\n\t\t\t\t\t</van-button>\n\t\t\t\t</van-col>\n\t\t\t\t<van-col span=\"6\">\n\t\t\t\t\t<van-button class=\"btn4\">\n\t\t\t\t\t\t<div class=\"t1\">6个月后</div>\n\t\t\t\t\t\t<div class=\"t2\">可兑换商品</div>\n\t\t\t\t\t</van-button>\n\t\t\t\t</van-col>\n\t\t\t</van-row>\n\t\t\t\t\n\t\t\t<goods-tabs></goods-tabs>\n\t\t</div>\n\t\t<div v-else class=\"offline\">\n\t\t\t<div>\n\t\t\t\t<van-image :src=\"noNetwork\" />\n\t\t\t\t<van-button plain type=\"info\" @click=\"onRefresh\">点击刷新</van-button>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t\n\t</div>\n</template>\n\n<script>\n\timport {NavBar,Toast,Button,Row,Col,Icon} from 'vant'\n\timport {Images} from '../resources/index.js'\n\timport myIntegral from '@/components/myIntegral.vue'\n\timport swipe from '@/components/swipe.vue'\n\timport goodsTabs from '@/components/goodsTabs.vue'\n\texport default{\n\t\tinject:['reload'],\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[Toast.name]:Toast,\n\t\t\t[Button.name]:Button,\n\t\t\t[Row.name]:Row,\n\t\t\t[Col.name]:Col,\n\t\t\t[Icon.name]:Icon,\n\t\t\tmyIntegral,\n\t\t\tswipe,\n\t\t\tgoodsTabs\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tbg:Images.common.ic_header_bg,\n\t\t\t\tborder:false,\n\t\t\t\tgoods:[],\n\t\t\t\tcategory:[],\n\t\t\t\tcategoryIcon : Images.shop.ic_category_icon,\n\t\t\t\tcategoryAlls : [{\"ID\":0,\"ParentID\":0,\"Name\":\"全部商品\",\"Status\":0,\"SortOrder\":0,\"Detail\":\"\",\"CreateTime\":\"\",\"UpdateTime\":\"\"}],\n\t\t\t\tisonline:navigator.onLine,\n\t\t\t\tnoNetwork:Images.common.ic_no_network\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgetCategory(){\n\t\t\t\tvar url = '/product/getCat'\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif (response.data.obj.length > 0) {\n\t\t\t\t\t\tthis.category = [...this.category,...response.data.obj]\n\t\t\t\t\t\tthis.categoryAll()\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t})\n\t\t\t},\n\t\t\tcategoryAll(){\n\t\t\t\tthis.category.map((item,index)=>{\n\t\t\t\t\tthis.categoryAlls.push(item)\n\t\t\t\t})\n\t\t\t},\n\t\t\tnetApi(count,pid){\n\t\t\t\tif (pid === 0) {\n\t\t\t\t\tvar url = '/product/allList?page='+count\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.status === 1 && response.data.obj.length > 0) {\n\t\t\t\t\t\t\tthis.$store.commit('requestMallcount2')\n\t\t\t\t\t\t\tthis.goods = [...this.goods,...response.data.obj]\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t\t})\n\t\t\t\t} else{\n\t\t\t\t\tvar url = '/product/getProductList?page='+count+'&category='+pid\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tthis.$store.commit('requestMallcount2')\n\t\t\t\t\t\tthis.goods = [...this.goods,...response.data.obj]\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdateOnlineStatus(e){\n\t\t\t\tconst {type} = e\n\t\t\t\tthis.isonline = type === 'online'\n\t\t\t},\n\t\t\tonRefresh(){\n\t\t\t\tthis.$store.commit('changeTabbarActive','mall')\n\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\tthis.reload()\n\t\t\t\t})\n\t\t\t},\n\t\t\tgoCart(){\n\t\t\t\tthis.$store.commit('fromPage','mall')\n\t\t\t\tthis.$router.push('/cart')\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\tavatar(){\n\t\t\t\treturn this.$store.state.avatar\n\t\t\t},\n\t\t\tallActicities(){\n\t\t\t\treturn this.$store.state.allActicities.slice(0,5)\n\t\t\t},\n\t\t\tallBlock(){\n\t\t\t\treturn this.$store.getters.allBlock\n\t\t\t}\n\t\t},\n\t\tbeforeMount() {\n\t\t\tthis.getCategory()\n\t\t\tthis.netApi(this.$store.state.requestMallcount1,0)\n\t\t},\n\t\tmounted() {\n\t\t\twindow.addEventListener('online',this.updateOnlineStatus)\n\t\t\twindow.addEventListener('offline',this.updateOnlineStatus)\n\t\t},\n\t\tbeforeDestroy() {\n\t\t\twindow.removeEventListener('online',this.updateOnlineStatus)\n\t\t\twindow.removeEventListener('offline',this.updateOnlineStatus)\n\t\t},\n\t\twatch:{\n\t\t\tisonline(){\n\t\t\t\tthis.isonline = navigator.onLine\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.bg{\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 6.5rem;\n\t\tz-index: -1;\n\t}\n\t.van-nav-bar{\n\t\tbackground: url(../assets/Images/Home/header_bg.png);\n\t}\n\t.van-nav-bar__title{\n\t\tcolor: #fff;\n\t\tfont-size: 1.125rem;\n\t}\n\t.van-nav-bar .van-icon{\n\t\tcolor: #FFFFFF;\n\t\tfont-size: 1.5rem;\n\t}\n\t.van-row{\n\t\tmargin: 0.625rem 0.5rem 0;\n\t}\n\t\n\t.van-row .van-button{\n\t\tcolor: white;\n\t\theight: 2.75rem;\n\t\tline-height: 1.375rem;\n\t\tpadding: 0;\n\t\twidth: 100%;\n\t}\n\t.btn1{\n\t\tbackground: url(../assets/Images/Shop/time_1.png) no-repeat center;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.btn2{\n\t\tbackground: url(../assets/Images/Shop/time_2.png) no-repeat center;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.btn3{\n\t\tbackground: url(../assets/Images/Shop/time_3.png) no-repeat center;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.btn4{\n\t\tbackground: url(../assets/Images/Shop/time_4.png) no-repeat center;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.t1{\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tfont-size: 0.9375rem;\n\t}\n\t.t2{\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tfont-size: 0.625rem;\n\t}\n\t.offline{\n\t\twidth: 100%;\n\t\tmargin: 0 auto;\n\t}\n\t.offline div{\n\t\twidth: 50%;\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttop: 20%;\n\t}\n\t.offline .van-image{\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tposition: relative;\n\t\tleft: -50%;\n\t}\n\t.offline .van-button{\n\t\twidth: 6.25rem;\n\t\tposition: relative;\n\t\tleft: -50%;\n\t\tmargin-top: 0.625rem;\n\t}\n</style>\n"],"sourceRoot":"src/pages"}]}