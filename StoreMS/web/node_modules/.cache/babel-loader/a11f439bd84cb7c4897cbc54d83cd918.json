{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js!/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/userinfo/modifyInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/userinfo/modifyInfo.vue","mtime":1567825401000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/student02/Desktop/youduitong1/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"vant/es/loading/style\";\nimport _Loading from \"vant/es/loading\";\nimport \"vant/es/overlay/style\";\nimport _Overlay from \"vant/es/overlay\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/radio/style\";\nimport _Radio from \"vant/es/radio\";\nimport \"vant/es/radio-group/style\";\nimport _RadioGroup from \"vant/es/radio-group\";\nimport \"vant/es/cell/style\";\nimport _Cell from \"vant/es/cell\";\nimport \"vant/es/cell-group/style\";\nimport _CellGroup from \"vant/es/cell-group\";\nimport \"vant/es/field/style\";\nimport _Field from \"vant/es/field\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\n\nvar _components;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport util from '@/utils/Utils.js';\nexport default {\n  components: (_components = {}, _defineProperty(_components, _NavBar.name, _NavBar), _defineProperty(_components, _Field.name, _Field), _defineProperty(_components, _CellGroup.name, _CellGroup), _defineProperty(_components, _Cell.name, _Cell), _defineProperty(_components, _RadioGroup.name, _RadioGroup), _defineProperty(_components, _Radio.name, _Radio), _defineProperty(_components, _Toast.name, _Toast), _defineProperty(_components, _Overlay.name, _Overlay), _defineProperty(_components, _Loading.name, _Loading), _components),\n  data: function data() {\n    return {\n      title: '',\n      placeholder: '',\n      nickname: '',\n      gender: '',\n      email: '',\n      loadingText: '登录中...',\n      show: false\n    };\n  },\n  methods: {\n    goBack: function goBack() {\n      this.$router.back();\n    },\n    submit: function submit() {\n      var _this = this;\n\n      if (this.title === '昵称') {\n        if (this.nickname === '') {\n          _Toast('昵称不能为空');\n\n          return;\n        }\n\n        this.show = true;\n        this.loadingText = '修改中...';\n        var url = '/user/nick?user_id=' + this.$store.state.userID + '&nick=' + this.nickname + '&token=' + this.$store.state.token;\n        this.axios.get(url).then(function (response) {\n          if (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n            _Toast('登陆过期，请重新登录');\n\n            _this.$router.push('/login');\n          } else if (response.data.status == 1) {\n            setTimeout(function () {\n              _this.loadingText = response.data.detail;\n\n              _this.$store.commit('nickname', _this.nickname);\n\n              setTimeout(function () {\n                _this.show = false;\n\n                _this.$router.back();\n              }, 500);\n            }, 1000);\n          } else {\n            setTimeout(function () {\n              _Toast(response.data.detail);\n\n              _this.show = false;\n            }, 1000);\n          }\n        }).catch(function (response) {\n          setTimeout(function () {\n            _Toast('网络请求出错，请稍候再试!');\n\n            _this.show = false;\n          }, 1000);\n        });\n      } else if (this.title === '性别') {\n        if (this.gender === '') {\n          _Toast('请选择您的性别');\n\n          return;\n        }\n\n        this.show = true;\n        this.loadingText = '修改中...';\n        var url = '/user/sex?user_id=' + this.$store.state.userID + '&sex=' + this.gender + '&token=' + this.$store.state.token;\n        this.axios.get(url).then(function (response) {\n          if (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n            _Toast('登陆过期，请重新登录');\n\n            _this.$router.push('/login');\n          } else if (response.data.status == 1) {\n            setTimeout(function () {\n              _this.loadingText = response.data.detail;\n\n              _this.$store.commit('gender', _this.gender);\n\n              setTimeout(function () {\n                _this.show = false;\n\n                _this.$router.back();\n              }, 500);\n            }, 1000);\n          } else {\n            setTimeout(function () {\n              _Toast(response.data.detail);\n\n              _this.show = false;\n            }, 1000);\n          }\n        }).catch(function (response) {\n          setTimeout(function () {\n            _Toast('网络请求出错，请稍候再试!');\n\n            _this.show = false;\n          }, 1000);\n        });\n      } else {\n        if (this.email === '') {\n          _Toast('邮箱不能为空');\n\n          return;\n        }\n\n        this.show = true;\n        this.loadingText = '修改中...';\n        var url = '/user/email?user_id=' + this.$store.state.userID + '&email=' + this.email + '&token=' + this.$store.state.token;\n        this.axios.get(url).then(function (response) {\n          if (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n            _Toast('登陆过期，请重新登录');\n\n            _this.$router.push('/login');\n          } else if (response.data.status == 1) {\n            setTimeout(function () {\n              _this.loadingText = response.data.detail;\n\n              _this.$store.commit('email', _this.email);\n\n              setTimeout(function () {\n                _this.show = false;\n\n                _this.$router.back();\n              }, 500);\n            }, 1000);\n          } else {\n            setTimeout(function () {\n              _Toast(response.data.detail);\n\n              _this.show = false;\n            }, 1000);\n          }\n        }).catch(function (response) {\n          setTimeout(function () {\n            _Toast('网络请求出错，请稍候再试!');\n\n            _this.show = false;\n          }, 1000);\n        });\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.nickname = this.$store.state.nickname ? this.$store.state.nickname : '';\n    this.gender = this.$store.state.gender ? this.$store.state.gender : '';\n    this.email = this.$store.state.email ? this.$store.state.email : '';\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    next(function (vm) {\n      vm.title = to.meta.title;\n    });\n  }\n};",{"version":3,"sources":["modifyInfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div id=\"modifyInfo\">\n\t\t<van-nav-bar\n\t\t\t:title=\"title\"\n\t\t\tleft-arrow\n\t\t\tright-text='确定'\n\t\t\t@click-left=\"goBack\"\n\t\t\t@click-right=\"submit\"\n\t\t/>\n\t\t\n\t\t<van-field \n\t\t\tv-if=\"title === '昵称'\" \n\t\t\tplaceholder=\"请设置昵称\"\n\t\t\tv-model=\"nickname\"\n\t\t\tclearable\n\t\t>\n\t\t</van-field>\n\t\t\n\t\t<van-field\n\t\t\tv-if=\"title === '邮箱'\" \n\t\t\tplaceholder=\"请设置邮箱\"\n\t\t\tv-model=\"email\"\n\t\t\tclearable\n\t\t>\n\t\t</van-field>\n\t\t\n\t\t<van-radio-group v-if=\"title === '性别'\" v-model=\"gender\">\n\t\t\t<van-cell-group>\n\t\t\t\t<van-cell title=\"男\" clickable @click=\"gender == '男'\">\n\t\t\t\t\t<van-radio slot=\"right-icon\" name='男'/>\n\t\t\t\t</van-cell>\n\t\t\t\t<van-cell title=\"女\" clickable @click=\"gender == '女'\">\n\t\t\t\t\t<van-radio slot=\"right-icon\" name='女'/>\n\t\t\t\t</van-cell>\n\t\t\t\t<van-cell title=\"保密\" clickable @click=\"gender == '保密'\">\n\t\t\t\t\t<van-radio slot=\"right-icon\" name='保密'/>\n\t\t\t\t</van-cell>\n\t\t\t</van-cell-group>\n\t\t</van-radio-group>\n\t\t\n\t\t<van-overlay :show=\"show\" class-name=\"overlay\" />\n\t\t<van-loading v-if=\"show\" vertical>{{loadingText}}</van-loading>\n\t</div>\n</template>\n\n<script>\n\timport util from '@/utils/Utils.js'\n\timport {NavBar,Field,CellGroup,Cell,RadioGroup,Radio,Toast,Overlay,Loading} from 'vant'\n\texport default{\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[Field.name]:Field,\n\t\t\t[CellGroup.name]:CellGroup,\n\t\t\t[Cell.name]:Cell,\n\t\t\t[RadioGroup.name]:RadioGroup,\n\t\t\t[Radio.name]:Radio,\n\t\t\t[Toast.name]:Toast,\n\t\t\t[Overlay.name]:Overlay,\n\t\t\t[Loading.name]:Loading\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\ttitle:'',\n\t\t\t\tplaceholder:'',\n\t\t\t\tnickname:'',\n\t\t\t\tgender:'',\n\t\t\t\temail:'',\n\t\t\t\tloadingText:'登录中...',\n\t\t\t\tshow:false\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgoBack(){\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tsubmit(){\n\t\t\t\tif (this.title === '昵称') {\n\t\t\t\t\tif (this.nickname === '') {\n\t\t\t\t\t\tToast('昵称不能为空')\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.show = true\n\t\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\t\tvar url = '/user/nick?user_id='+this.$store.state.userID+'&nick='+this.nickname+'&token='+this.$store.state.token\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n\t\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t\t}else if (response.data.status == 1) {\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.loadingText = response.data.detail\n\t\t\t\t\t\t\t\tthis.$store.commit('nickname',this.nickname)\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t})\n\t\t\t\t} else if (this.title === '性别') {\n\t\t\t\t\tif (this.gender === '') {\n\t\t\t\t\t\tToast('请选择您的性别')\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.show = true\n\t\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\t\tvar url = '/user/sex?user_id='+this.$store.state.userID+'&sex='+this.gender+'&token='+this.$store.state.token\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n\t\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t\t}else if (response.data.status == 1) {\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.loadingText = response.data.detail\n\t\t\t\t\t\t\t\tthis.$store.commit('gender',this.gender)\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t})\n\t\t\t\t} else{\n\t\t\t\t\tif (this.email === '') {\n\t\t\t\t\t\tToast('邮箱不能为空')\n\t\t\t\t\t\treturn \n\t\t\t\t\t}\n\t\t\t\t\tthis.show = true\n\t\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\t\tvar url = '/user/email?user_id='+this.$store.state.userID+'&email='+this.email+'&token='+this.$store.state.token\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n\t\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t\t}else if (response.data.status == 1) {\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.loadingText = response.data.detail\n\t\t\t\t\t\t\t\tthis.$store.commit('email',this.email)\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted(){\n\t\t\tthis.nickname = this.$store.state.nickname ?  this.$store.state.nickname : ''\n\t\t\tthis.gender = this.$store.state.gender ? this.$store.state.gender : ''\n\t\t\tthis.email = this.$store.state.email ? this.$store.state.email : ''\n\t\t},\n\t\tbeforeRouteEnter(to,from,next){\n\t\t\tnext(vm=>{\n\t\t\t\tvm.title = to.meta.title\n\t\t\t})\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.van-nav-bar__arrow{\n\t\tcolor: black;\n\t\tfont-size: 1.2rem;\n\t}\n\t.van-nav-bar__text{\n\t\tcolor: rgb(96,96,96);\n\t}\n\t.van-radio-group{\n\t\ttext-align: left;\n\t}\n\t.overlay{\n\t\tbackground-color: rgba(0,0,0,0);\n\t}\n</style>\n"],"sourceRoot":"src/pages/userinfo"}]}