{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js!/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/home.vue","mtime":1571133582000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/student02/Desktop/youduitong1/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/student02/Desktop/youduitong1/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\nimport \"vant/es/cell/style\";\nimport _Cell from \"vant/es/cell\";\nimport \"vant/es/cell-group/style\";\nimport _CellGroup from \"vant/es/cell-group\";\nimport \"vant/es/dialog/style\";\nimport _Dialog from \"vant/es/dialog\";\nimport \"vant/es/button/style\";\nimport _Button from \"vant/es/button\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\n\nvar _components;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport bus from '@/utils/bus.js';\nimport { Images } from '@/resources/index.js';\nimport myIntegral from '@/components/myIntegral.vue';\nimport swipe from '@/components/swipe.vue';\nimport doubleCard from '@/components/double-card.vue';\nexport default {\n  inject: ['reload'],\n  components: (_components = {}, _defineProperty(_components, _NavBar.name, _NavBar), _defineProperty(_components, _Toast.name, _Toast), _defineProperty(_components, _Button.name, _Button), _defineProperty(_components, _Dialog.Component.name, _Dialog.Component), _defineProperty(_components, _CellGroup.name, _CellGroup), _defineProperty(_components, _Cell.name, _Cell), _defineProperty(_components, _List.name, _List), _defineProperty(_components, \"myIntegral\", myIntegral), _defineProperty(_components, \"swipe\", swipe), _defineProperty(_components, \"doubleCard\", doubleCard), _components),\n  data: function data() {\n    return {\n      bg: Images.common.ic_header_bg,\n      border: false,\n      intrgralData: '',\n      businessArray: [],\n      goods: [],\n      avatar: '',\n      allActicities: [],\n      gift_icon: Images.home.ic_gift,\n      loading: false,\n      finished: false,\n      finishedText: '没有更多了o(╯□╰)o',\n      colSpan: 12,\n      isonline: navigator.onLine,\n      noNetwork: Images.common.ic_no_network\n    };\n  },\n  methods: {\n    //获取用户信息\n    getUserInfo: function getUserInfo() {\n      var _this = this;\n\n      var url = '/user/get?phone=' + this.$store.state.username + '&token=' + this.$store.state.token;\n      this.axios.get(url).then(function (response) {\n        if (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n          _Toast('登录过期，请重新登录');\n\n          _this.$router.push('/login');\n        } else {\n          _this.$store.commit('userinfo', response.data.info);\n\n          _this.$store.commit('userID', response.data.info.id);\n\n          _this.$store.commit('avatar', response.data.info.head ? response.data.head + '?v=' + Math.random() : '');\n\n          _this.$store.commit('nickname', response.data.info.name);\n\n          _this.$store.commit('gender', response.data.info.sex);\n\n          _this.$store.commit('email', response.data.info.email);\n\n          _this.$store.commit('birthday', response.data.info.birthday ? response.data.info.birthday : new Date());\n\n          _this.avatar = _this.$store.state.avatar;\n          window.console.log(response);\n          window.console.log(\"获取用户信息？？\");\n\n          _this.getUserCartDetail();\n\n          _this.getUserAddrList();\n\n          _this.getCurrentIntegralForUser();\n\n          _this.getOtherIntegralForUser();\n\n          _this.getBusinessArray();\n\n          _this.getAllActivities(_this.$store.state.requestActivities);\n\n          _this.netApi(_this.$store.state.requestHomeGoods);\n        }\n      }).catch(function (response) {\n        _Toast('网络请求出错，请稍候再试！');\n      });\n    },\n    // 获取用户的购物车详情\n    getUserCartDetail: function getUserCartDetail() {\n      var _this2 = this;\n\n      var url = '/cart/get?user_id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n      this.axios.get(url).then(function (response) {\n        if (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n          _Toast('登陆过期，请重新登录');\n\n          _this2.$router.push('/login');\n        } else if (response.data.status === 1) {\n          _this2.$store.commit('allDatasData', response.data.info);\n\n          window.console.log(response);\n          window.console.log(\"获取用户购物车信息？？\");\n        }\n      }).catch(function (response) {});\n    },\n    //获取用户收货地址\n    getUserAddrList: function getUserAddrList() {\n      var _this3 = this;\n\n      var url = '/ship/get?user_id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n      this.axios.get(url).then(function (response) {\n        if (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n          _Toast('登陆过期，请重新登录');\n\n          _this3.$router.push('/login');\n        } else {\n          _this3.$store.commit('receiverAddressList', response.data.info);\n\n          _this3.$store.commit('currentReceiverAddress');\n\n          window.console.log(response);\n          window.console.log(\"获取用户收货地址？？\");\n        }\n      }).catch(function (response) {});\n    },\n    //获取用户通用积分\n    getCurrentIntegralForUser: function getCurrentIntegralForUser() {\n      var _this4 = this;\n\n      var url = '/point/getUserpoint?user_id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n      this.axios.get(url).then(function (response) {\n        if (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n          _Toast('登陆过期，请重新登录');\n\n          _this4.$router.push('/login');\n        } else if (response.data.status === 1) {\n          _this4.$store.commit('totalBlock', response.data.info.balance);\n\n          window.console.log(\"获取用户通用积分？？\", balance);\n          window.console.log(\"获取用户通用积分？？\");\n        }\n      }).catch(function (response) {});\n    },\n    //获取用户其他积分列表\n    getOtherIntegralForUser: function getOtherIntegralForUser() {\n      var _this5 = this;\n\n      var url = '/point/getUserpoint?user_id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n      this.axios.get(url).then(function (response) {\n        if (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n          _Toast('登陆过期，请重新登录');\n\n          _this5.$router.push('/login');\n        } else if (response.data.status === 1) {\n          _this5.intrgralData = response.data.info;\n\n          _this5.$store.commit('saveResult', response.data.info);\n\n          window.console.log(response);\n          window.console.log(\"获取用户积分？？\");\n        }\n      }).catch(function (response) {});\n    },\n    //获取用户可领取的商家积分列表\n    getBusinessArray: function getBusinessArray() {\n      var _this6 = this;\n\n      var url = '/point/getPointpublish?phone=' + this.$store.state.username + '&token=' + this.$store.state.token;\n      this.axios.get(url).then(function (response) {\n        if (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n          _Toast('登陆过期，请重新登录');\n\n          _this6.$router.push('/login');\n        } else if (response.data.status === 1) {\n          _this6.businessArray = response.data.info.slice(0, 8);\n\n          _this6.$store.commit('businessArray', response.data.info);\n\n          window.console.log(response);\n          window.console.log(\"获取用户可领取积分？？\");\n        }\n      }).catch(function (response) {});\n    },\n    netApi: function netApi(count) {\n      var _this7 = this;\n\n      // var url = '/product/allList?page=' + count;\n      var url = '/product/get?token=' + this.$store.state.token;\n      this.axios.get(url).then(function (response) {\n        if (response.data.status === 1 && response.data.info.length > 0) {\n          _this7.$store.commit('requestHomeGoods', 1);\n\n          _this7.goods = [].concat(_toConsumableArray(_this7.goods), _toConsumableArray(response.data.info));\n        }\n\n        window.console.log(response);\n        window.console.log(\"获取netAPI？？\");\n      }).catch(function (response) {});\n    },\n    receivePoints: function receivePoints(item) {\n      var _this8 = this;\n\n      _Dialog.confirm({\n        title: '提示',\n        message: '是否确认领取积分'\n      }).then(function () {\n        _this8.ReceivePoints(item);\n      }).catch(function () {});\n    },\n    ReceivePoints: function ReceivePoints(item) {\n      var _this9 = this;\n\n      var url = '/point/change?id=' + item.id + '&user_id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n      this.axios.get(url) // .get(url, {\n      // \tparams: {\n      // \t\t// username: this.$store.state.username,\n      // \t\t// uid: this.$store.state.userID,\n      // \t\tid: item.ID,\n      // \t\t// point_id: item.PMID,\n      // \t\t// token: this.$store.state.token\n      // \t}\n      // })\n      .then(function (response) {\n        window.console.log(response);\n\n        if (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n          _Toast('登陆过期，请重新登录');\n\n          _this9.$router.push('/login');\n        } else if (response.data.status === 1) {\n          _Toast('领取积分成功');\n\n          _this9.getBusinessArray();\n\n          _this9.getOtherIntegralForUser();\n        } else {\n          _Toast('领取积分失败');\n        }\n      }).catch(function (response) {\n        _Toast('网络请求出错，请稍后重试！');\n      });\n    },\n    getAllActivities: function getAllActivities(count) {// var url = '/user/getNews?page=' + count;\n      // this.axios\n      // \t.get(url)\n      // \t.then(response => {\n      // \t\tthis.$store.commit('requestActivities', 1);\n      // \t\tthis.allActicities = response.data.obj.slice(0, 5);\n      // \t\tthis.$store.commit('allActicities', response.data.obj);\n      // \t})\n      // \t.catch(response => {});\n    },\n    onLoad: function onLoad() {\n      var _this10 = this;\n\n      setTimeout(function () {\n        _this10.netApi(_this10.$store.state.requestHomeGoods);\n\n        _this10.loading = false;\n\n        if (_this10.$store.state.requestHomeGoods >= 5) {\n          _this10.finished = true;\n        }\n      }, 1000);\n    },\n    updateOnlineStatus: function updateOnlineStatus(e) {\n      var type = e.type;\n      this.isonline = type === 'online';\n    },\n    onRefresh: function onRefresh() {\n      this.reload();\n    }\n  },\n  beforeMount: function beforeMount() {\n    this.$store.commit('requestHomeGoods', 0);\n    this.$store.commit('requestActivities', 0);\n    this.$store.commit('username', localStorage.getItem('username'));\n    this.$store.commit('token', localStorage.getItem('token'));\n    this.getUserInfo();\n  },\n  mounted: function mounted() {\n    var _this11 = this;\n\n    window.addEventListener('online', this.updateOnlineStatus);\n    window.addEventListener('offline', this.updateOnlineStatus);\n    bus.$on('receivePoints', function (item) {\n      _this11.receivePoints(item);\n    }), bus.$on('getAllActivities', function (msg) {\n      _this11.getAllActivities(_this11.$store.state.requestActivities);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('online', this.updateOnlineStatus);\n    window.removeEventListener('offline', this.updateOnlineStatus);\n  },\n  computed: {\n    allBlock: function allBlock() {\n      return this.$store.getters.allBlock;\n    },\n    bgImg: function bgImg() {\n      return function (index) {\n        return {\n          backgroundImage: 'url(' + Images.home.ic_integral_data[index] + ')',\n          backgroundRepeat: 'no-repeat',\n          backgroundSize: '100% 100%'\n        };\n      };\n    }\n  },\n  watch: {\n    isonline: function isonline() {\n      this.isonline = navigator.onLine;\n    }\n  }\n};",{"version":3,"sources":["home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div id=\"home\">\n\t\t<img class=\"bg\" :src=\"bg\" alt=\"\" />\n\t\t<van-nav-bar title=\"布洛克积分商城\" :border=\"border\" fixed />\n\t\t<div v-if=\"isonline\">\n\t\t\t<my-integral :avatar=\"avatar\" :allBlock=\"allBlock\"></my-integral>\n\n\t\t\t<div style=\"overflow-y: hidden;overflow-x: scroll;text-align: left; margin-top: 0.625rem;\">\n\t\t\t\t<ul class=\"scrollWidth\">\n\t\t\t\t\t<li v-for=\"(item, index) in businessArray\" :key=\"index\" :style=\"bgImg(index)\">\n\t\t\t\t\t\t<ul class=\"scrollContent\">\n\t\t\t\t\t\t\t<li>{{ item.PMName }}</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>{{ item.balance }}</span>\n\t\t\t\t\t\t\t\t积分\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li><van-button @click=\"receivePoints(item)\"></van-button></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<swipe :swipeItems=\"allActicities\"></swipe>\n\n\t\t\t<van-cell-group><van-cell title=\"当前可兑换商品\" :icon=\"gift_icon\" value=\"更多\" is-link value-class=\"value_class\" /></van-cell-group>\n\n\t\t\t<van-list v-model=\"loading\" :finished=\"finished\" :finished-text=\"finishedText\" @load=\"onLoad\">\n\t\t\t\t<double-card :colSpan=\"colSpan\" :doubleCardItems=\"goods\" fromPage=\"home\"></double-card>\n\t\t\t</van-list>\n\t\t</div>\n\t\t<div v-else class=\"offline\">\n\t\t\t<div>\n\t\t\t\t<van-image :src=\"noNetwork\" />\n\t\t\t\t<van-button plain type=\"info\" @click=\"onRefresh\">点击刷新</van-button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport bus from '@/utils/bus.js';\nimport { NavBar, Toast, Button, Dialog, CellGroup, Cell, List } from 'vant';\nimport { Images } from '@/resources/index.js';\nimport myIntegral from '@/components/myIntegral.vue';\nimport swipe from '@/components/swipe.vue';\nimport doubleCard from '@/components/double-card.vue';\nexport default {\n\tinject:['reload'],\n\tcomponents: {\n\t\t[NavBar.name]: NavBar,\n\t\t[Toast.name]: Toast,\n\t\t[Button.name]: Button,\n\t\t[Dialog.Component.name]: Dialog.Component,\n\t\t[CellGroup.name]: CellGroup,\n\t\t[Cell.name]: Cell,\n\t\t[List.name]: List,\n\t\tmyIntegral,\n\t\tswipe,\n\t\tdoubleCard\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tbg: Images.common.ic_header_bg,\n\t\t\tborder: false,\n\t\t\tintrgralData: '',\n\t\t\tbusinessArray: [],\n\t\t\tgoods: [],\n\t\t\tavatar: '',\n\t\t\tallActicities: [],\n\t\t\tgift_icon: Images.home.ic_gift,\n\t\t\tloading: false,\n\t\t\tfinished: false,\n\t\t\tfinishedText: '没有更多了o(╯□╰)o',\n\t\t\tcolSpan: 12,\n\t\t\tisonline:navigator.onLine,\n\t\t\tnoNetwork:Images.common.ic_no_network\n\t\t};\n\t},\n\tmethods: {\n\t\t//获取用户信息\n\t\tgetUserInfo() {\n\t\t\tvar url = '/user/get?phone=' + this.$store.state.username + '&token=' + this.$store.state.token;\n\t\t\tthis.axios\n\t\t\t\t.get(url)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登录过期，请重新登录');\n\t\t\t\t\t\tthis.$router.push('/login');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$store.commit('userinfo',response.data.info)\n\t\t\t\t\t\tthis.$store.commit('userID', response.data.info.id);\n\t\t\t\t\t\tthis.$store.commit('avatar', response.data.info.head ? response.data.head + '?v=' + Math.random() : '');\n\t\t\t\t\t\tthis.$store.commit('nickname', response.data.info.name);\n\t\t\t\t\t\tthis.$store.commit('gender', response.data.info.sex);\n\t\t\t\t\t\tthis.$store.commit('email', response.data.info.email);\n\t\t\t\t\t\tthis.$store.commit('birthday', response.data.info.birthday ? response.data.info.birthday : new Date());\n\t\t\t\t\t\tthis.avatar = this.$store.state.avatar;\n\t\t\t\t\t\twindow.console.log(response)\n\t\t\t\t\t\twindow.console.log(\"获取用户信息？？\")\n\t\t\t\t\t\tthis.getUserCartDetail();\n\t\t\t\t\t\tthis.getUserAddrList();\n\t\t\t\t\t\tthis.getCurrentIntegralForUser();\n\t\t\t\t\t\tthis.getOtherIntegralForUser();\n\t\t\t\t\t\tthis.getBusinessArray();\n\t\t\t\t\t\tthis.getAllActivities(this.$store.state.requestActivities);\n\t\t\t\t\t\tthis.netApi(this.$store.state.requestHomeGoods);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(response => {\n\t\t\t\t\tToast('网络请求出错，请稍候再试！');\n\t\t\t\t});\n\t\t},\n\t\t// 获取用户的购物车详情\n\t\tgetUserCartDetail() {\n\t\t\tvar url = '/cart/get?user_id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n\t\t\tthis.axios\n\t\t\t\t.get(url)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录');\n\t\t\t\t\t\tthis.$router.push('/login');\n\t\t\t\t\t} else if (response.data.status === 1) {\n\t\t\t\t\t\tthis.$store.commit('allDatasData', response.data.info);\n\t\t\t\t\t\twindow.console.log(response)\n\t\t\t\t\t\twindow.console.log(\"获取用户购物车信息？？\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(response => {});\n\t\t},\n\t\t//获取用户收货地址\n\t\tgetUserAddrList() {\n\t\t\tvar url = '/ship/get?user_id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n\t\t\tthis.axios\n\t\t\t\t.get(url)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录');\n\t\t\t\t\t\tthis.$router.push('/login');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$store.commit('receiverAddressList', response.data.info);\n\t\t\t\t\t\tthis.$store.commit('currentReceiverAddress');\n\t\t\t\t\t\twindow.console.log(response)\n\t\t\t\t\t\twindow.console.log(\"获取用户收货地址？？\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(response => {});\n\t\t},\n\t\t//获取用户通用积分\n\t\tgetCurrentIntegralForUser() {\n\t\t\tvar url = '/point/getUserpoint?user_id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n\t\t\tthis.axios\n\t\t\t\t.get(url)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录');\n\t\t\t\t\t\tthis.$router.push('/login');\n\t\t\t\t\t} else if (response.data.status === 1) {\n\t\t\t\t\t\tthis.$store.commit('totalBlock', response.data.info.balance);\n\t\t\t\t\t\twindow.console.log(\"获取用户通用积分？？\",balance)\n\t\t\t\t\t\twindow.console.log(\"获取用户通用积分？？\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(response => {});\n\t\t},\n\t\t//获取用户其他积分列表\n\t\tgetOtherIntegralForUser() {\n\t\t\tvar url = '/point/getUserpoint?user_id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n\t\t\tthis.axios\n\t\t\t\t.get(url)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录');\n\t\t\t\t\t\tthis.$router.push('/login');\n\t\t\t\t\t} else if (response.data.status === 1) {\n\t\t\t\t\t\tthis.intrgralData = response.data.info;\n\t\t\t\t\t\tthis.$store.commit('saveResult', response.data.info);\n\t\t\t\t\t\twindow.console.log(response)\n\t\t\t\t\t\twindow.console.log(\"获取用户积分？？\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(response => {});\n\t\t},\n\t\t//获取用户可领取的商家积分列表\n\t\tgetBusinessArray() {\n\t\t\tvar url = '/point/getPointpublish?phone=' + this.$store.state.username + '&token=' + this.$store.state.token;\n\t\t\tthis.axios\n\t\t\t\t.get(url)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录');\n\t\t\t\t\t\tthis.$router.push('/login');\n\t\t\t\t\t} else if (response.data.status === 1) {\n\t\t\t\t\t\tthis.businessArray = response.data.info.slice(0, 8);\n\t\t\t\t\t\tthis.$store.commit('businessArray', response.data.info);\n\t\t\t\t\t\twindow.console.log(response)\n\t\t\t\t\t\twindow.console.log(\"获取用户可领取积分？？\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(response => {});\n\t\t},\n\t\tnetApi(count) {\n\t\t\t// var url = '/product/allList?page=' + count;\n\t\t\tvar url = '/product/get?token=' + this.$store.state.token\n\t\t\tthis.axios\n\t\t\t\t.get(url)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.status === 1 && response.data.info.length > 0) {\n\t\t\t\t\t\tthis.$store.commit('requestHomeGoods', 1);\n\t\t\t\t\t\tthis.goods = [...this.goods, ...response.data.info];\n\t\t\t\t\t}\n\t\t\t\t\twindow.console.log(response)\n\t\t\t\t\twindow.console.log(\"获取netAPI？？\")\n\t\t\t\t})\n\t\t\t\t.catch(response => {});\n\t\t},\n\t\treceivePoints(item) {\n\t\t\tDialog.confirm({\n\t\t\t\ttitle: '提示',\n\t\t\t\tmessage: '是否确认领取积分'\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.ReceivePoints(item);\n\t\t\t\t})\n\t\t\t\t.catch(() => {});\n\t\t},\n\t\tReceivePoints(item) {\n\t\t\tvar url = '/point/change?id='+item.id+'&user_id='+this.$store.state.userID+'&token='+this.$store.state.token;\n\t\t\tthis.axios.get(url)\n\t\t\t\t// .get(url, {\n\t\t\t\t// \tparams: {\n\t\t\t\t// \t\t// username: this.$store.state.username,\n\t\t\t\t// \t\t// uid: this.$store.state.userID,\n\t\t\t\t// \t\tid: item.ID,\n\t\t\t\t// \t\t// point_id: item.PMID,\n\t\t\t\t// \t\t// token: this.$store.state.token\n\t\t\t\t// \t}\n\t\t\t\t// })\n\t\t\t\t.then(response => {\n\t\t\t\t\twindow.console.log(response)\n\t\t\t\t\tif (response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录');\n\t\t\t\t\t\tthis.$router.push('/login');\n\t\t\t\t\t} else if (response.data.status === 1) {\n\t\t\t\t\t\tToast('领取积分成功');\n\t\t\t\t\t\tthis.getBusinessArray();\n\t\t\t\t\t\tthis.getOtherIntegralForUser();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tToast('领取积分失败');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(response => {\n\t\t\t\t\tToast('网络请求出错，请稍后重试！');\n\t\t\t\t});\n\t\t},\n\t\tgetAllActivities(count) {\n\t\t\t// var url = '/user/getNews?page=' + count;\n\t\t\t// this.axios\n\t\t\t// \t.get(url)\n\t\t\t// \t.then(response => {\n\t\t\t// \t\tthis.$store.commit('requestActivities', 1);\n\t\t\t// \t\tthis.allActicities = response.data.obj.slice(0, 5);\n\t\t\t// \t\tthis.$store.commit('allActicities', response.data.obj);\n\t\t\t// \t})\n\t\t\t// \t.catch(response => {});\n\t\t},\n\t\tonLoad() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.netApi(this.$store.state.requestHomeGoods);\n\t\t\t\tthis.loading = false;\n\t\t\t\tif (this.$store.state.requestHomeGoods >= 5) {\n\t\t\t\t\tthis.finished = true;\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t},\t\n\t\tupdateOnlineStatus(e){\n\t\t\tconst {type} = e\n\t\t\tthis.isonline = type === 'online'\n\t\t},\n\t\tonRefresh(){\n\t\t\tthis.reload()\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.$store.commit('requestHomeGoods', 0);\n\t\tthis.$store.commit('requestActivities', 0);\n\t\tthis.$store.commit('username', localStorage.getItem('username'));\n\t\tthis.$store.commit('token', localStorage.getItem('token'));\n\t\tthis.getUserInfo();\n\t},\n\tmounted() {\n\t\twindow.addEventListener('online',this.updateOnlineStatus)\n\t\twindow.addEventListener('offline',this.updateOnlineStatus)\n\t\tbus.$on('receivePoints', item => {\n\t\t\tthis.receivePoints(item);\n\t\t}),\n\t\t\tbus.$on('getAllActivities', msg => {\n\t\t\t\tthis.getAllActivities(this.$store.state.requestActivities);\n\t\t\t});\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('online',this.updateOnlineStatus)\n\t\twindow.removeEventListener('offline',this.updateOnlineStatus)\n\t},\t\n\tcomputed: {\n\t\tallBlock() {\n\t\t\treturn this.$store.getters.allBlock;\n\t\t},\n\t\tbgImg() {\n\t\t\treturn function(index) {\n\t\t\t\treturn {\n\t\t\t\t\tbackgroundImage: 'url(' + Images.home.ic_integral_data[index] + ')',\n\t\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t\t\tbackgroundSize: '100% 100%'\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\t},\n\twatch:{\n\t\tisonline(){\n\t\t\tthis.isonline = navigator.onLine\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n::-webkit-scrollbar {\n\tdisplay: none;\n}\n.bg {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 6.5rem;\n\tz-index: -1;\n}\n.van-nav-bar {\n\tbackground: url(../assets/Images/Home/header_bg.png);\n}\n.van-nav-bar__title {\n\tcolor: #fff;\n\tfont-size: 1.125rem;\n}\n.content {\n\twidth: 100%;\n\theight: 62.5rem;\n\tbackground: rgba(0, 0, 0, 0);\n}\n.scrollWidth {\n\t/* width: 51.125rem; */\n\twidth: auto;\n\twhite-space: nowrap;\n\tmargin-left: 0.625rem;\n}\n.scrollWidth > li {\n\tlist-style: none;\n\tdisplay: inline-block;\n\t/* float: left; */\n\tmargin-right: 0.3125rem;\n\twidth: 5.78125rem;\n\theight: 5.78125rem;\n\tborder-radius: 0.3125rem;\n}\n\n.scrollContent li {\n\tlist-style: none;\n\tmargin: 0.3rem;\n\tcolor: white;\n}\n.scrollContent .van-button {\n\twidth: 3.125rem;\n\theight: 0.9375rem;\n\tborder: none;\n\tbackground: url('../assets/Images/Home/input.png') no-repeat center;\n\tbackground-size: 100% 100%;\n}\n.van-cell-group {\n\tmargin: 0.625rem 0.625rem 0 0.625rem;\n\tbackground: rgba(0, 0, 0, 0);\n}\n.van-cell {\n\tbackground: #ffa500;\n\tborder-radius: 0.3125rem;\n\theight: 2.5rem;\n\tcolor: white;\n\ttext-align: left;\n}\n.van-cell__right-icon {\n\tcolor: white;\n}\n.value_class {\n\tcolor: white;\n}\n.offline{\n\twidth: 100%;\n\tmargin: 0 auto;\n}\n.offline div{\n\twidth: 50%;\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 20%;\n}\n.offline .van-image{\n\twidth: 100%;\n\theight: auto;\n\tposition: relative;\n\tleft: -50%;\n}\n.offline .van-button{\n\twidth: 6.25rem;\n\tposition: relative;\n\tleft: -50%;\n\tmargin-top: 0.625rem;\n}\n</style>\n"],"sourceRoot":"src/pages"}]}