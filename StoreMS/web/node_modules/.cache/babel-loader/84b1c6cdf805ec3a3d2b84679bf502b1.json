{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js!/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/login.vue","mtime":1571125428000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/student02/Desktop/youduitong1/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"vant/es/loading/style\";\nimport _Loading from \"vant/es/loading\";\nimport \"vant/es/overlay/style\";\nimport _Overlay from \"vant/es/overlay\";\nimport \"vant/es/col/style\";\nimport _Col from \"vant/es/col\";\nimport \"vant/es/row/style\";\nimport _Row from \"vant/es/row\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/button/style\";\nimport _Button from \"vant/es/button\";\nimport \"vant/es/field/style\";\nimport _Field from \"vant/es/field\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/cell-group/style\";\nimport _CellGroup from \"vant/es/cell-group\";\n\nvar _components;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Images } from '@/resources/index.js';\nimport Util from '@/utils/Utils.js';\nimport uuidv4 from 'uuid/v4';\nexport default {\n  components: (_components = {}, _defineProperty(_components, _CellGroup.name, _CellGroup), _defineProperty(_components, _Field.name, _Field), _defineProperty(_components, _Button.name, _Button), _defineProperty(_components, _Toast.name, _Toast), _defineProperty(_components, _Row.name, _Row), _defineProperty(_components, _Col.name, _Col), _defineProperty(_components, _Overlay.name, _Overlay), _defineProperty(_components, _Loading.name, _Loading), _components),\n  data: function data() {\n    return {\n      bg: {\n        backgroundImage: \"url(\" + Images.login.ic_bg + \")\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"100% 100%\"\n      },\n      username: '',\n      password: '',\n      account: Images.login.ic_account,\n      lock: Images.login.ic_lock,\n      isHidden: true,\n      loadingText: '登录中...',\n      show: false\n    };\n  },\n  methods: {\n    showPassword: function showPassword() {\n      if (this.isHidden) {\n        this.isHidden = false;\n        this.lock = Images.login.ic_unlock;\n      } else {\n        this.isHidden = true;\n        this.lock = Images.login.ic_lock;\n      }\n    },\n    login: function login() {\n      var _this = this;\n\n      if (this.verification()) {\n        this.show = true;\n        this.loadingText = '登录中...'; // let param = new URLSearchParams()\n        // param.append('phone', this.username)\n        // param.append('password', this.password)\n        // param.append('udid', uuidv4())\n        // var url='/user/login'\n\n        var url = '/user/login?phone=' + this.username + '&password=' + this.password + '&udid=' + uuidv4();\n        this.axios.get(url).then(function (response) {\n          window.console.log(response);\n\n          if (response.data.status === 1) {\n            setTimeout(function () {\n              _this.loadingText = '登录成功';\n\n              _this.$store.commit('username', _this.username);\n\n              _this.$store.commit('token', response.data.info);\n\n              localStorage.setItem(\"username\", _this.username);\n              localStorage.setItem('token', response.data.info);\n              setTimeout(function () {\n                _this.show = false;\n                localStorage.setItem(\"isOnce\", false);\n\n                _this.$router.push('/main/home');\n              }, 500);\n            }, 1000);\n          } else {\n            setTimeout(function () {\n              _Toast(\"用户名或密码错误！\");\n\n              _this.show = false;\n            }, 1000);\n          }\n        }).catch(function (response) {\n          setTimeout(function () {\n            _Toast(\"网络请求出错，请稍候再试！\");\n\n            _this.show = false;\n          }, 1000);\n        });\n      }\n    },\n    retrievePassword: function retrievePassword() {\n      this.$router.push('/retrievePassword');\n    },\n    register: function register() {\n      this.$router.push('/register');\n    },\n    verification: function verification() {\n      if (Util.isMobile(this.username)) {\n        return true;\n      }\n\n      _Toast('请输入正确的手机号码');\n\n      return false;\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div id=\"login\" :style=\"bg\">\n\t\t<div class=\"content\">\n\t\t\t<div class=\"logo\">\n\t\t\t\t<img src=\"../assets/Images/Login/logo.png\" alt=\"logo\">\n\t\t\t</div>\n\t\t\t<van-cell-group>\n\t\t\t\t<van-field \n\t\t\t\t\tv-model=\"username\"\n\t\t\t\t\t:right-icon=\"account\"\n\t\t\t\t\tplaceholder=\"请输入手机号\"\n\t\t\t\t/>\n\t\t\t\t<van-field \n\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t:right-icon=\"lock\"\n\t\t\t\t\tplaceholder=\"请输入密码\"\n\t\t\t\t\t@click-right-icon=\"showPassword\"\n\t\t\t\t/>\n\t\t\t\t<van-button type=\"danger\" size=\"large\" text=\"登 录\" @click=\"login\"></van-button>\n\t\t\t\t<van-row>\n\t\t\t\t\t<van-col span=\"7\" @click=\"retrievePassword\">忘记密码?</van-col>\n\t\t\t\t\t<van-col span=\"5\" offset=\"12\" @click=\"register\">注册</van-col>\n\t\t\t\t</van-row>\n\t\t\t</van-cell-group>\n\t\t</div>\n\t\t<van-overlay :show=\"show\" class-name=\"overlay\" />\n\t\t<van-loading v-if=\"show\" vertical>{{loadingText}}</van-loading>\n\t</div>\n</template>\n\n<script>\n\timport {Images} from '@/resources/index.js'\n\timport Util from '@/utils/Utils.js'\n\timport uuidv4 from 'uuid/v4'\n\timport {CellGroup,Field,Button,Toast,Row,Col,Overlay,Loading} from 'vant'\n\texport default{\n\t\tcomponents:{\n\t\t\t[CellGroup.name]:CellGroup,\n\t\t\t[Field.name]:Field,\n\t\t\t[Button.name]:Button,\n\t\t\t[Toast.name]:Toast,\n\t\t\t[Row.name]:Row,\n\t\t\t[Col.name]:Col,\n\t\t\t[Overlay.name]:Overlay,\n\t\t\t[Loading.name]:Loading\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tbg:{\n\t\t\t\t\tbackgroundImage:\"url(\"+Images.login.ic_bg+\")\",\n\t\t\t\t\tbackgroundRepeat:\"no-repeat\",\n\t\t\t\t\tbackgroundSize:\"100% 100%\",\n\t\t\t\t},\n\t\t\t\tusername:'',\n\t\t\t\tpassword:'',\n\t\t\t\taccount:Images.login.ic_account,\n\t\t\t\tlock:Images.login.ic_lock,\n\t\t\t\tisHidden:true,\n\t\t\t\tloadingText:'登录中...',\n\t\t\t\tshow:false\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tshowPassword(){\n\t\t\t\tif (this.isHidden) {\n\t\t\t\t\tthis.isHidden = false\n\t\t\t\t\tthis.lock = Images.login.ic_unlock\n\t\t\t\t} else{\n\t\t\t\t\tthis.isHidden = true\n\t\t\t\t\tthis.lock = Images.login.ic_lock\n\t\t\t\t}\n\t\t\t},\n\t\t\tlogin(){\n\t\t\t\tif(this.verification()){\n\t\t\t\t\tthis.show = true\n\t\t\t\t\tthis.loadingText = '登录中...'\n\t\t\t\t\t// let param = new URLSearchParams()\n\t\t\t\t\t// param.append('phone', this.username)\n\t\t\t\t\t// param.append('password', this.password)\n\t\t\t\t\t// param.append('udid', uuidv4())\n\t\t\t\t\t// var url='/user/login'\n\t\t\t\t\tvar url = '/user/login?phone='+this.username+'&password='+this.password+'&udid='+uuidv4()\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\twindow.console.log(response)\n\t\t\t\t\t\tif (response.data.status === 1){\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.loadingText = '登录成功'\n\t\t\t\t\t\t\t\tthis.$store.commit('username',this.username)\n\t\t\t\t\t\t\t\tthis.$store.commit('token',response.data.info)\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"username\",this.username)\n\t\t\t\t\t\t\t\tlocalStorage.setItem('token',response.data.info)\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"isOnce\",false)\n\t\t\t\t\t\t\t\t\tthis.$router.push('/main/home')\n\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast(\"用户名或密码错误！\")\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast(\"网络请求出错，请稍候再试！\")\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tretrievePassword(){\n\t\t\t\tthis.$router.push('/retrievePassword')\n\t\t\t},\n\t\t\tregister(){\n\t\t\t\tthis.$router.push('/register')\n\t\t\t},\n\t\t\tverification(){\n\t\t\t\tif (Util.isMobile(this.username)) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\tToast('请输入正确的手机号码')\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t#login{\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: fixed;\n\t}\n\t.content{\n\t\twidth: 80%;\n\t\theight: 23rem;\n\t\tbackground: #fff;\n\t\tborder-radius: 10px;\n\t\tmargin: 8.75rem auto 0;\n\t}\n\t.logo{\n\t\twidth: 3.125rem;\n\t\tmargin: 0 auto;\n\t}\n\t.logo img{\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tmargin-top: 1.9375rem;\n\t\tmargin-bottom: 3.25rem;\n\t}\n\t.van-cell-group{\n\t\tmargin: 0 1.875rem;\n\t}\n\t.van-button{\n\t\tmargin-top: 2.8125rem;\n\t\tfont-size: 1.125rem;\n\t\theight: 2.5rem;\n\t\tline-height: 2.5rem;\n\t}\n\t.van-row{\n\t\tmargin-top: 0.625rem;\n\t\tfont-size: 0.75rem;\n\t}\n\t.van-col:nth-child(1){\n\t\tcolor: #808080;\n\t}\n\t.van-col:nth-child(2){\n\t\tcolor: red;\n\t}\n\t.overlay{\n\t\tbackground-color: rgba(0,0,0,0);\n\t}\n</style>\n"],"sourceRoot":"src/pages"}]}