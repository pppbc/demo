{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/chat/chatRoom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/chat/chatRoom.vue","mtime":1570621016000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { NavBar, Toast, Row, Col, Field} from 'vant';\nimport { Images } from '@/resources/index.js';\nimport emoj from '@/assets/plugins/doutu/emoj/info.json';\nimport mkgif from '@/assets/plugins/doutu/mkgif/info.json';\nexport default {\n\tcomponents: {\n\t\t[NavBar.name]: NavBar,\n\t\t[Toast.name]: Toast,\n\t\t[Row.name]: Row,\n\t\t[Col.name]: Col,\n\t\t[Field.name]: Field\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdata: this.$store.state.chatting,\n\t\t\taudiom: Images.chat.ic_audiom,\n\t\t\taudio: Images.chat.ic_audio,\n\t\t\tkbord: Images.chat.ic_kbord,\n\t\t\tsmile: Images.chat.ic_smile,\n\t\t\tmore: Images.chat.ic_more,\n\t\t\tsend: Images.chat.ic_send,\n\t\t\tusermap: {},\n\t\t\twebSocket: {},\n\t\t\ttxtmsg: '',\n\t\t\tpanelstat: 'kbord',\n\t\t\ttxtstat: 'kbord',\n\t\t\tshowprocess: false,\n\t\t\trecorder: {},\n\t\t\tduration: 0,\n\t\t\ttimer: 0,\n\t\t\tmsglist: [],\n\t\t\tmsgcontext: {\n\t\t\t\tdstid: 10,\n\t\t\t\tcmd: 10,\n\t\t\t\tuserid: this.$store.state.userID\n\t\t\t},\n\t\t\tpkg: [mkgif, emoj],\n\t\t\tdoutu: {\n\t\t\t\tconfig: {\n\t\t\t\t\tbaseurl: '@/assets/plugins/doutu/',\n\t\t\t\t\tpkgids: ['mkgif', 'emoj']\n\t\t\t\t},\n\t\t\t\tpackages: [],\n\t\t\t\tchoosed: { pkgid: 'emoj', assets: [], size: 'small' }\n\t\t\t},\n\t\t\tplugins: [\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_upload,\n\t\t\t\t\tname: '照片',\n\t\t\t\t\tid: 'upload',\n\t\t\t\t\tslot: \"<input id='upload' accept='image/gif,image/jepg,image/png' type='file' onchange='upload(this)' class='upload' hidden/>\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_camera,\n\t\t\t\t\tname: '拍照',\n\t\t\t\t\tid: 'camera',\n\t\t\t\t\tslot: \"<input id='camera' accept='image/*' capture='camera' type='file' onchange='upload(this)' class='upload' hidden/>\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_audiocall,\n\t\t\t\t\tname: '语音',\n\t\t\t\t\tid: 'audiocall'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_videocall,\n\t\t\t\t\tname: '视频',\n\t\t\t\t\tid: 'videocall'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_redpackage,\n\t\t\t\t\tname: '红包',\n\t\t\t\t\tid: 'redpackage'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_exchange,\n\t\t\t\t\tname: '转账',\n\t\t\t\t\tid: 'exchange'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_address,\n\t\t\t\t\tname: '地址',\n\t\t\t\t\tid: 'address'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_person,\n\t\t\t\t\tname: '名片',\n\t\t\t\t\tid: 'person'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t},\n\tmethods: {\n\t\tgoBack() {\n\t\t\tthis.$router.back();\n\t\t},\n\t\tplayAudio(url) {\n\t\t\tdocument.getElementById('audio4play').src = url;\n\t\t\tdocument.getElementById('audio4play').play();\n\t\t},\n\t\tstartrecorder() {\n\t\t\tvar audioTarget = document.getElementById('audio');\n\t\t\tvar types = ['video/webm', 'audio/webm', 'video/webm;codecs-vp8', 'video/webm;codecs=daala', 'video/webm;codecs=h264', 'audio/webm;codecs=opus', 'video/mpeg'];\n\t\t\tvar supporttype = '';\n\t\t\tfor (var i in types) {\n\t\t\t\tif (MediaRecorder.isTypeSupported(types[i])) {\n\t\t\t\t\tsupporttype = types[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!supporttype) {\n\t\t\t\tToast('编码不支持');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.duration = new Date().getTime();\n\t\t\tnavigator.mediaDevices\n\t\t\t\t.getUserMedia({ audio: true, video: false })\n\t\t\t\t.then(stream => {\n\t\t\t\t\tthis.showprocess = true;\n\t\t\t\t\tthis.recorder = new MediaRecorder(stream);\n\t\t\t\t\taudioTarget.srcObject = stream;\n\t\t\t\t\tthis.recorder.ondataavailable = event => {\n\t\t\t\t\t\tthis.uploadblob('attach/upload', event.data, '.mp3');\n\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\tstream.getTracks().forEach(track => {\n\t\t\t\t\t\t\t\ttrack.stop();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.showprocess = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tthis.recorder.start();\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tToast(err);\n\t\t\t\t\tthis.showprocess = false;\n\t\t\t\t});\n\t\t},\n\t\tstoprecorder() {\n\t\t\tif (typeof this.recorder.stop === 'function') {\n\t\t\t\tthis.recorder.stop();\n\t\t\t}\n\t\t\tthis.showprocess = false;\n\t\t},\n\t\tsendtxtmsg(txt) {\n\t\t\tvar msg = this.createmsgcontext();\n\t\t\tmsg.media = 1;\n\t\t\tmsg.content = txt;\n\t\t\tthis.showmsg(this.$store.state.userinfo, msg);\n\t\t\t// this.webSocket.send(JSON.stringify(msg))\n\t\t},\n\t\tsendpicmsg(picurl) {\n\t\t\tvar msg = this.createmsgcontext();\n\t\t\tmsg.media = 4;\n\t\t\tmsg.url = picurl;\n\t\t\tthis.showmsg(this.$store.state.userinfo, msg);\n\t\t\t// this.webSocket.send(JSON.stringify(msg))\n\t\t},\n\t\tcreatemsgcontext() {\n\t\t\treturn JSON.parse(JSON.stringify(this.msgcontext));\n\t\t},\n\t\tdispatchplugin(item) {\n\t\t\tswitch (item.id) {\n\t\t\t\tcase 'upload':\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'camera':\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tToast('该功能暂不支持');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tupload(dom) {\n\t\t\tthis.uploadfile('attach/upload', dom);\n\t\t},\n\t\tuploadfile(uri, dom) {\n\t\t\tvar formdata = new FormData();\n\t\t\tformdata.append('userid', this.$store.state.userID);\n\t\t\tformdata.append('file', dom.files[0]);\n\t\t\tthis.axios\n\t\t\t\t.post(uri, formdata)\n\t\t\t\t.then(response => {})\n\t\t\t\t.catch(err => {});\n\t\t},\n\t\tloaddoutures() {\n\t\t\tvar res = [];\n\t\t\tvar config = this.doutu.config;\n\t\t\tfor (var i in config.pkgids) {\n\t\t\t\tres[config.pkgids[i]] = require(`@/assets/plugins/doutu/${config.pkgids[i]}/info.json`);\n\t\t\t}\n\t\t\tfor (var id in res) {\n\t\t\t\tfor (var j in res[id].assets) {\n\t\t\t\t\tres[id].assets[j] = require(`@/assets/plugins/doutu/${id}/${j}.gif`);\n\t\t\t\t}\n\t\t\t\tres[id].icon = require(`@/assets/plugins/doutu/${id}/icon.gif`);\n\t\t\t\tthis.doutu.packages.push(res[id]);\n\t\t\t\tif (this.doutu.choosed.pkgid === res[id].id) {\n\t\t\t\t\tthis.doutu.choosed.assets = res[id].assets;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinitwebsocket() {\n\t\t\tvar url = 'ws://' + location.host + '/chat?id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n\t\t\tthis.webSocket = new WebSocket(url);\n\t\t\tthis.webSocket.onmessage = evt => {\n\t\t\t\tif (evt.data.indexOf('}') > -1) {\n\t\t\t\t\tthis.onmessage(JSON.parse(evt.data));\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('recv<==' + evt.dat);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.webSocket.onclose = evt => {\n\t\t\t\tconsole.log(evt.data);\n\t\t\t};\n\t\t\tthis.webSocket.onerror = evt => {\n\t\t\t\tconsole.log(evt.data);\n\t\t\t};\n\t\t},\n\t\tonmessage(data) {\n\t\t\tthis.loaduserinfo(data.userid, user => {\n\t\t\t\tthis.showmsg(user, data);\n\t\t\t});\n\t\t},\n\t\tloaduserinfo(userid, cb) {\n\t\t\tuserid = '' + userid;\n\t\t\tvar userinfo = this.usermap[userid];\n\t\t\tif (!userinfo) {\n\t\t\t\tthis.axios.post('user/find', { id: userid }).then(response => {\n\t\t\t\t\tcb(response.data);\n\t\t\t\t\tthis.usermap[userid] = response.data;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcb(userinfo);\n\t\t\t}\n\t\t},\n\t\tshowmsg(user, msg) {\n\t\t\tvar data = {};\n\t\t\tdata.ismine = this.$store.state.userID === msg.userid;\n\t\t\tdata.user = user;\n\t\t\tdata.msg = msg;\n\t\t\tthis.msglist = this.msglist.concat(data);\n\t\t\tthis.reset();\n\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\twindow.scrollTo(0, document.getElementById('convo').offsetHeight);\n\t\t\t\tclearTimeout(this.timer);\n\t\t\t}, 100);\n\t\t},\n\t\treset() {\n\t\t\tthis.panelstat = 'kbord';\n\t\t\tthis.txtstat = 'kbord';\n\t\t\tthis.txtmsg = '';\n\t\t},\n\t\tuploadblob(uri, blob, filetype) {\n\t\t\tvar formdata = new FormData();\n\t\t\tformdata.append('filetype', filetype);\n\t\t\tformdata.append('userid', this.$store.state.userID);\n\t\t\tformdata.append('file', blob);\n\t\t\tthis.axios\n\t\t\t\t.post(uri, formdata)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\t\tvar duration = Math.ceil((new Date().getTime() - this.duration) / 1000);\n\t\t\t\t\t\tthis.sendaudiomsg(response.data, duration);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(response => {});\n\t\t},\n\t\tsendaudiomsg(url, num) {\n\t\t\tvar msg = this.createmsgcontext();\n\t\t\tmsg.media = 3;\n\t\t\tmsg.url = url;\n\t\t\tmsg.amount = num;\n\t\t\tthis.showmsg(this.$store.state.userinfo, msg);\n\t\t\t// this.webSocket.send(JSON.stringify(msg))\n\t\t}\n\t},\n\tcomputed: {\n\t\ttitle() {\n\t\t\tvar title = this.data.title;\n\t\t\tif (title.length > 6) {\n\t\t\t\ttitle = title.substr(0, 6) + '...';\n\t\t\t}\n\t\t\treturn title;\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.loaddoutures();\n\t\t// this.initwebsocket()\n\t}\n};\n",{"version":3,"sources":["chatRoom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"chatRoom.vue","sourceRoot":"src/pages/chat","sourcesContent":["<template>\n\t<div>\n\t\t<van-nav-bar :title=\"title\" left-arrow fixed @click-left=\"goBack\" />\n\t\t<div style=\"overflow-x: hidden;overflow-y: scroll;margin-top: 2.875rem;\">\n\t\t\t<div id=\"convo\">\n\t\t\t\t<ul class=\"chat-thread\">\n\t\t\t\t\t<li class=\"chat\" v-for=\"(item, index) in msglist\" :key=\"index\" :class=\"item.ismine ? 'mine' : 'other'\">\n\t\t\t\t\t\t<div><img class=\"\" :src=\"item.user.avatar || '@/assets/Images/Mine/head1.png'\" /></div>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t<div class=\"content\">\n\t\t\t\t\t\t\t<div v-if=\"item.msg.media === 1\" v-text=\"item.msg.content\"></div>\n\t\t\t\t\t\t\t<img class=\"pic\" v-if=\"item.msg.media === 4\" :src=\"item.msg.url\" />\n\t\t\t\t\t\t\t<div v-if=\"item.msg.media === 3\" @click=\"playAudio(item.msg.url)\">\n\t\t\t\t\t\t\t\t<img class=\"audio\" :src=\"audiom\" />\n\t\t\t\t\t\t\t\t<span v-text=\"item.msg.amount\"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t<van-row class=\"flex-container\">\n\t\t\t<van-col class=\"item-1\" span=\"3\" @click=\"txtstat = 'audio'\" v-if=\"txtstat === 'kbord'\">\n\t\t\t\t<img :src=\"audio\" />\n\t\t\t</van-col>\n\t\t\t<van-col class=\"item-1\" span=\"3\" @click=\"txtstat = 'kbord'\" v-if=\"txtstat === 'audio'\">\n\t\t\t\t<img :src=\"kbord\" />\n\t\t\t</van-col>\n\t\t\t<van-col class=\"item-2\" span=\"15\" v-if=\"txtstat === 'kbord'\">\n\t\t\t\t<van-field v-model=\"txtmsg\" placeholder=\"在这里写点啥\" border/>\n\t\t\t</van-col>\n\t\t\t<van-col class=\"item-2\" span=\"15\" v-if=\"txtstat === 'audio'\">\n\t\t\t\t<input type=\"button\" value=\"按住 说话\" @touchstart=\"startrecorder\" @touchend=\"stoprecorder\"/>\n\t\t\t</van-col>\n\t\t\t<van-col class=\"item-3\" span=\"3\" @click=\"panelstat = 'doutu'\">\n\t\t\t\t<img :src=\"smile\" />\n\t\t\t</van-col>\n\t\t\t<van-col class=\"item-4\" span=\"3\" v-if=\"!txtmsg\" @click=\"panelstat = 'more'\">\n\t\t\t\t<img :src=\"more\" />\n\t\t\t</van-col>\n\t\t\t<van-col class=\"item-4\" span=\"3\" v-if=\"!!txtmsg\" @click=\"sendtxtmsg(txtmsg)\">\n\t\t\t\t<img :src=\"send\" />\n\t\t\t</van-col>\n\t\t</van-row>\n\t\t<div id=\"panels\" style=\"display: flex;\">\n\t\t\t<div v-if=\"panelstat === 'doutu'\">\n\t\t\t\t<div class=\"doutures\">\n\t\t\t\t\t<div class=\"res\" v-for=\"(item, index) in doutu.choosed.assets\" @click=\"sendpicmsg(item)\" :key=\"index\"><img :class=\"doutu.choosed.size || 'small'\" :src=\"item\" /></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"doutupkg\">\n\t\t\t\t\t<div class=\"pkg\" v-for=\"(item, index) in doutu.packages\" @click=\"doutu.choosed = item\" :key=\"index\"><img :class=\"item.size || 'small'\" :src=\"item.icon\" /></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"panelstat === 'more'\" class=\"plugins\">\n\t\t\t\t<div class=\"plugin\" @click=\"dispatchplugin(item)\" v-for=\"(item, index) in plugins\" :key=\"index\">\n\t\t\t\t\t<label :for=\"item.id\"><img :src=\"item.icon\" /></label>\n\t\t\t\t\t<div v-html=\"item.slot\"></div>\n\t\t\t\t\t<p v-text=\"item.name\"></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<audio id=\"audio\" style=\"display: none;\"></audio>\n\t\t<audio id=\"audio4play\" style=\"display: none;\"></audio>\n\t\t<audio id=\"video\" style=\"display: none;\"></audio>\n\t\t<audio id=\"video4play\" style=\"display: none;\"></audio>\n\t\t<div id=\"sound-alert\" class=\"rprogress\" v-show=\"showprocess\">\n\t\t\t<div class=\"rschedule\"></div>\n\t\t\t<div class=\"r-sigh\">!</div>\n\t\t\t<div id=\"audio-tips\" class=\"rsalert\">手指上滑，取消发送</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { NavBar, Toast, Row, Col, Field} from 'vant';\nimport { Images } from '@/resources/index.js';\nimport emoj from '@/assets/plugins/doutu/emoj/info.json';\nimport mkgif from '@/assets/plugins/doutu/mkgif/info.json';\nexport default {\n\tcomponents: {\n\t\t[NavBar.name]: NavBar,\n\t\t[Toast.name]: Toast,\n\t\t[Row.name]: Row,\n\t\t[Col.name]: Col,\n\t\t[Field.name]: Field\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdata: this.$store.state.chatting,\n\t\t\taudiom: Images.chat.ic_audiom,\n\t\t\taudio: Images.chat.ic_audio,\n\t\t\tkbord: Images.chat.ic_kbord,\n\t\t\tsmile: Images.chat.ic_smile,\n\t\t\tmore: Images.chat.ic_more,\n\t\t\tsend: Images.chat.ic_send,\n\t\t\tusermap: {},\n\t\t\twebSocket: {},\n\t\t\ttxtmsg: '',\n\t\t\tpanelstat: 'kbord',\n\t\t\ttxtstat: 'kbord',\n\t\t\tshowprocess: false,\n\t\t\trecorder: {},\n\t\t\tduration: 0,\n\t\t\ttimer: 0,\n\t\t\tmsglist: [],\n\t\t\tmsgcontext: {\n\t\t\t\tdstid: 10,\n\t\t\t\tcmd: 10,\n\t\t\t\tuserid: this.$store.state.userID\n\t\t\t},\n\t\t\tpkg: [mkgif, emoj],\n\t\t\tdoutu: {\n\t\t\t\tconfig: {\n\t\t\t\t\tbaseurl: '@/assets/plugins/doutu/',\n\t\t\t\t\tpkgids: ['mkgif', 'emoj']\n\t\t\t\t},\n\t\t\t\tpackages: [],\n\t\t\t\tchoosed: { pkgid: 'emoj', assets: [], size: 'small' }\n\t\t\t},\n\t\t\tplugins: [\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_upload,\n\t\t\t\t\tname: '照片',\n\t\t\t\t\tid: 'upload',\n\t\t\t\t\tslot: \"<input id='upload' accept='image/gif,image/jepg,image/png' type='file' onchange='upload(this)' class='upload' hidden/>\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_camera,\n\t\t\t\t\tname: '拍照',\n\t\t\t\t\tid: 'camera',\n\t\t\t\t\tslot: \"<input id='camera' accept='image/*' capture='camera' type='file' onchange='upload(this)' class='upload' hidden/>\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_audiocall,\n\t\t\t\t\tname: '语音',\n\t\t\t\t\tid: 'audiocall'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_videocall,\n\t\t\t\t\tname: '视频',\n\t\t\t\t\tid: 'videocall'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_redpackage,\n\t\t\t\t\tname: '红包',\n\t\t\t\t\tid: 'redpackage'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_exchange,\n\t\t\t\t\tname: '转账',\n\t\t\t\t\tid: 'exchange'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_address,\n\t\t\t\t\tname: '地址',\n\t\t\t\t\tid: 'address'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Images.chat.ic_person,\n\t\t\t\t\tname: '名片',\n\t\t\t\t\tid: 'person'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t},\n\tmethods: {\n\t\tgoBack() {\n\t\t\tthis.$router.back();\n\t\t},\n\t\tplayAudio(url) {\n\t\t\tdocument.getElementById('audio4play').src = url;\n\t\t\tdocument.getElementById('audio4play').play();\n\t\t},\n\t\tstartrecorder() {\n\t\t\tvar audioTarget = document.getElementById('audio');\n\t\t\tvar types = ['video/webm', 'audio/webm', 'video/webm;codecs-vp8', 'video/webm;codecs=daala', 'video/webm;codecs=h264', 'audio/webm;codecs=opus', 'video/mpeg'];\n\t\t\tvar supporttype = '';\n\t\t\tfor (var i in types) {\n\t\t\t\tif (MediaRecorder.isTypeSupported(types[i])) {\n\t\t\t\t\tsupporttype = types[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!supporttype) {\n\t\t\t\tToast('编码不支持');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.duration = new Date().getTime();\n\t\t\tnavigator.mediaDevices\n\t\t\t\t.getUserMedia({ audio: true, video: false })\n\t\t\t\t.then(stream => {\n\t\t\t\t\tthis.showprocess = true;\n\t\t\t\t\tthis.recorder = new MediaRecorder(stream);\n\t\t\t\t\taudioTarget.srcObject = stream;\n\t\t\t\t\tthis.recorder.ondataavailable = event => {\n\t\t\t\t\t\tthis.uploadblob('attach/upload', event.data, '.mp3');\n\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\tstream.getTracks().forEach(track => {\n\t\t\t\t\t\t\t\ttrack.stop();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.showprocess = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tthis.recorder.start();\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tToast(err);\n\t\t\t\t\tthis.showprocess = false;\n\t\t\t\t});\n\t\t},\n\t\tstoprecorder() {\n\t\t\tif (typeof this.recorder.stop === 'function') {\n\t\t\t\tthis.recorder.stop();\n\t\t\t}\n\t\t\tthis.showprocess = false;\n\t\t},\n\t\tsendtxtmsg(txt) {\n\t\t\tvar msg = this.createmsgcontext();\n\t\t\tmsg.media = 1;\n\t\t\tmsg.content = txt;\n\t\t\tthis.showmsg(this.$store.state.userinfo, msg);\n\t\t\t// this.webSocket.send(JSON.stringify(msg))\n\t\t},\n\t\tsendpicmsg(picurl) {\n\t\t\tvar msg = this.createmsgcontext();\n\t\t\tmsg.media = 4;\n\t\t\tmsg.url = picurl;\n\t\t\tthis.showmsg(this.$store.state.userinfo, msg);\n\t\t\t// this.webSocket.send(JSON.stringify(msg))\n\t\t},\n\t\tcreatemsgcontext() {\n\t\t\treturn JSON.parse(JSON.stringify(this.msgcontext));\n\t\t},\n\t\tdispatchplugin(item) {\n\t\t\tswitch (item.id) {\n\t\t\t\tcase 'upload':\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'camera':\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tToast('该功能暂不支持');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tupload(dom) {\n\t\t\tthis.uploadfile('attach/upload', dom);\n\t\t},\n\t\tuploadfile(uri, dom) {\n\t\t\tvar formdata = new FormData();\n\t\t\tformdata.append('userid', this.$store.state.userID);\n\t\t\tformdata.append('file', dom.files[0]);\n\t\t\tthis.axios\n\t\t\t\t.post(uri, formdata)\n\t\t\t\t.then(response => {})\n\t\t\t\t.catch(err => {});\n\t\t},\n\t\tloaddoutures() {\n\t\t\tvar res = [];\n\t\t\tvar config = this.doutu.config;\n\t\t\tfor (var i in config.pkgids) {\n\t\t\t\tres[config.pkgids[i]] = require(`@/assets/plugins/doutu/${config.pkgids[i]}/info.json`);\n\t\t\t}\n\t\t\tfor (var id in res) {\n\t\t\t\tfor (var j in res[id].assets) {\n\t\t\t\t\tres[id].assets[j] = require(`@/assets/plugins/doutu/${id}/${j}.gif`);\n\t\t\t\t}\n\t\t\t\tres[id].icon = require(`@/assets/plugins/doutu/${id}/icon.gif`);\n\t\t\t\tthis.doutu.packages.push(res[id]);\n\t\t\t\tif (this.doutu.choosed.pkgid === res[id].id) {\n\t\t\t\t\tthis.doutu.choosed.assets = res[id].assets;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinitwebsocket() {\n\t\t\tvar url = 'ws://' + location.host + '/chat?id=' + this.$store.state.userID + '&token=' + this.$store.state.token;\n\t\t\tthis.webSocket = new WebSocket(url);\n\t\t\tthis.webSocket.onmessage = evt => {\n\t\t\t\tif (evt.data.indexOf('}') > -1) {\n\t\t\t\t\tthis.onmessage(JSON.parse(evt.data));\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('recv<==' + evt.dat);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.webSocket.onclose = evt => {\n\t\t\t\tconsole.log(evt.data);\n\t\t\t};\n\t\t\tthis.webSocket.onerror = evt => {\n\t\t\t\tconsole.log(evt.data);\n\t\t\t};\n\t\t},\n\t\tonmessage(data) {\n\t\t\tthis.loaduserinfo(data.userid, user => {\n\t\t\t\tthis.showmsg(user, data);\n\t\t\t});\n\t\t},\n\t\tloaduserinfo(userid, cb) {\n\t\t\tuserid = '' + userid;\n\t\t\tvar userinfo = this.usermap[userid];\n\t\t\tif (!userinfo) {\n\t\t\t\tthis.axios.post('user/find', { id: userid }).then(response => {\n\t\t\t\t\tcb(response.data);\n\t\t\t\t\tthis.usermap[userid] = response.data;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcb(userinfo);\n\t\t\t}\n\t\t},\n\t\tshowmsg(user, msg) {\n\t\t\tvar data = {};\n\t\t\tdata.ismine = this.$store.state.userID === msg.userid;\n\t\t\tdata.user = user;\n\t\t\tdata.msg = msg;\n\t\t\tthis.msglist = this.msglist.concat(data);\n\t\t\tthis.reset();\n\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\twindow.scrollTo(0, document.getElementById('convo').offsetHeight);\n\t\t\t\tclearTimeout(this.timer);\n\t\t\t}, 100);\n\t\t},\n\t\treset() {\n\t\t\tthis.panelstat = 'kbord';\n\t\t\tthis.txtstat = 'kbord';\n\t\t\tthis.txtmsg = '';\n\t\t},\n\t\tuploadblob(uri, blob, filetype) {\n\t\t\tvar formdata = new FormData();\n\t\t\tformdata.append('filetype', filetype);\n\t\t\tformdata.append('userid', this.$store.state.userID);\n\t\t\tformdata.append('file', blob);\n\t\t\tthis.axios\n\t\t\t\t.post(uri, formdata)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\t\tvar duration = Math.ceil((new Date().getTime() - this.duration) / 1000);\n\t\t\t\t\t\tthis.sendaudiomsg(response.data, duration);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(response => {});\n\t\t},\n\t\tsendaudiomsg(url, num) {\n\t\t\tvar msg = this.createmsgcontext();\n\t\t\tmsg.media = 3;\n\t\t\tmsg.url = url;\n\t\t\tmsg.amount = num;\n\t\t\tthis.showmsg(this.$store.state.userinfo, msg);\n\t\t\t// this.webSocket.send(JSON.stringify(msg))\n\t\t}\n\t},\n\tcomputed: {\n\t\ttitle() {\n\t\t\tvar title = this.data.title;\n\t\t\tif (title.length > 6) {\n\t\t\t\ttitle = title.substr(0, 6) + '...';\n\t\t\t}\n\t\t\treturn title;\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.loaddoutures();\n\t\t// this.initwebsocket()\n\t}\n};\n</script>\n\n<style scoped>\n.van-nav-bar__arrow {\n\tfont-size: 1.5rem;\n\tcolor: #000;\n}\n.van-nav-bar__title {\n\tfont-size: 1.125rem;\n}\n#convo {\n\t/* margin-top: 2.875rem; */\n}\n.flex-container {\n\t/* display: flex; */\n\t/* flex-direction: row; */\n\twidth: 100%;\n\tpadding-top: 0.5rem;\n\tposition: fixed;\n\tleft: 0;\n\tbottom: 0px;\n\tbackground: #F7F8FA;\n}\n.item-2 .van-field{\n\tpadding: 0.25rem;\n}\n.item-2 input{\n\tbackground: #FFFFFF;\n\ttext-align: center;\n\twidth: 100%;\n\tpadding: 0.25rem 0;\n\tborder: 0 none;\n}\n/* .item-1 {\n\theight: 3.125rem;\n\twidth: 3.125rem;\n\tpadding: 0.3125rem;\n}\n.item-2 {\n\theight: 2.5rem;\n\tborder: 1px solid #f0f0f0;\n\twidth: 100%;\n}\n.item-2 input {\n\twidth: 100%;\n\theight: 100%;\n}\n.txt {\n\tmargin-right: auto;\n}\n.item-3 {\n\theight: 3.125rem;\n\twidth: 3.125rem;\n\tpadding: 0.3125rem;\n}\n.item-4 {\n\theight: 3.125rem;\n\twidth: 3.125rem;\n\tpadding: 0.3125rem;\n} */\nli.chat {\n\tjustify-content: flex-start;\n\talign-items: flex-start;\n\tdisplay: flex;\n}\n.chat.other {\n\tflex-direction: row;\n}\n.chat.mine {\n\tflex-direction: row-reverse;\n}\nimg.avatar {\n\twidth: 4rem;\n\theight: 4rem;\n}\n.other .avatar {\n\tmargin-left: 0.625rem;\n}\n.mine .avatar {\n\tmargin-right: 0.625rem;\n}\n.other span {\n\tborder: 10px solid;\n\tborder-color: transparent #ffffff transparent transparent;\n\tmargin-top: 0.625rem;\n}\n.mine span {\n\tborder: 10px solid;\n\tborder-color: transparent transparent transparent #32cd32;\n\tmargin-top: 0.625rem;\n}\n.other > .content {\n\tbackground-color: #ffffff;\n}\n.mine > .content {\n\tbackground: #32cd32;\n}\ndiv.content {\n\tmin-width: 3.75rem;\n\tclear: both;\n\tdisplay: inline-block;\n\tpadding: 1rem 1rem 1rem 0.625rem;\n\tmargin: 0 0 20px 0;\n\tfont: 16px/20px 'Noto Sans', sans-serif;\n\tborder-radius: 0.625rem;\n\tmin-height: 4rem;\n}\n.content > img.pic {\n\twidth: 100%;\n\tcolor: white;\n}\n#panels {\n\tbackground: #ffffff;\n\tdisplay: flex;\n\tposition: fixed;\n\tbottom: 3.125rem;\n}\n.doutures {\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tdisplay: flex;\n}\n.doutures img {\n\tmargin: 0.625rem;\n}\n.doutupkg {\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tdisplay: flex;\n\tborder-top: 0.03125rem solid #f0f0f0;\n}\n.plugins {\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tdisplay: flex;\n}\n.plugin {\n\tpadding: 0.625rem 0.625rem 0.625rem 1.5rem;\n\tmargin: 0 0.625rem;\n}\n.plugin img {\n\twidth: 2rem;\n}\n.plugin p {\n\ttext-align: center;\n\tfont-size: 0.875rem;\n}\n.doutupkg img {\n\twidth: 2rem;\n\theight: 2rem;\n\tmargin: 0.3125rem;\n}\n.upload {\n\twidth: 4rem;\n\theight: 4rem;\n\tposition: absolute;\n\ttop: 0.0625rem;\n\topacity: 0;\n}\n.tagicon {\n\twidth: 2rem;\n\theight: 2rem;\n}\n.small {\n\twidth: 2rem;\n\theight: 2rem;\n}\n.middle {\n\twidth: 4rem;\n\theight: 4rem;\n}\n.large {\n\twidth: 6rem;\n\theight: 6rem;\n}\n.res img {\n\twidth: 2rem;\n\theight: 2rem;\n}\n/* 录音 */\n.rprogress {\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 45%;\n\twidth: 8.75rem;\n\theight: 8.75rem;\n\tmargin-left: -4.375rem;\n\tmargin-top: -4.375rem;\n\tbackground-image: url('data:image/png;base64,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');\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 30px 30px;\n\tbackground-color: rgba(0, 0, 0, 0.7);\n\tborder-radius: 0.3125rem;\n\ttransform: 0.15s;\n\tz-index: 1000;\n}\n.rschedule {\n\tbackground-color: rgba(0, 0, 0, 0);\n\tborder: 0.3125rem solid rgba(0, 183, 229, 0.9);\n\topacity: 0.9;\n\tborder-left: 0.3125rem solid rgba(0, 0, 0, 0);\n\tborder-right: 0.3125rem solid rgba(0, 0, 0, 0);\n\tborder-radius: 3.125rem;\n\tbox-shadow: 0 0 0.9375rem #2187e7;\n\twidth: 2.875rem;\n\theight: 2.875rem;\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\tmargin-left: -1.8rem;\n\tmargin-top: -1.8rem;\n\tanimation: spin 1s infinite linear;\n\tz-index: 1000;\n}\n.r-sigh {\n\tdisplay: none;\n\tborder-radius: 3.125rem;\n\tbox-shadow: 0 0 0.9375rem #2187e7;\n\twidth: 2.875rem;\n\theight: 2.875rem;\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\tmargin-left: -1.4375rem;\n\tmargin-top: -1.4375rem;\n\ttext-align: center;\n\tline-height: 2.875rem;\n\tfont-size: 2.5rem;\n\tfont-weight: bold;\n\tcolor: #2187e7;\n}\n.rprogress-sigh {\n\tbackground-image: none !important;\n}\n.rprogress-sigh .rschedule {\n\tdisplay: none !important;\n}\n.rprogress-sigh .r-sigh {\n\tdisplay: block !important;\n}\n.rsalert {\n\tfont-size: 0.75rem;\n\tcolor: #bbb;\n\ttext-align: center;\n\tposition: absolute;\n\tborder-radius: 0.3125rem;\n\twidth: 100%;\n\tpadding: 0.3125rem 0;\n\tleft: 0rem;\n\tbottom: 0rem;\n}\n@keyframes spin {\n\t0% {\n\t\ttransform: rotate(0deg);\n\t}\n\t100% {\n\t\ttransform: rotate(360deg);\n\t}\n}\nbody {\n\tpadding: 0;\n\tmargin: 0;\n\tbackground-repeat: no-repeat;\n\tbackground-attachment: fixed;\n}\n::-webkit-scrollbar {\n\twidth: 0.625rem;\n}\n::-webkit-scrollbar-track {\n\tborder-radius: 0.625rem;\n\tbackground-color: rgba(25, 147, 147, 0.1);\n}\n::-webkit-scrollbar-thumb {\n\tborder-radius: 0.625rem;\n\tbackground-color: rgba(25, 147, 147, 0.2);\n}\n.chat-thread {\n\tmargin: 1.5rem auto 0;\n\tpadding: 0 1.5rem 0 0;\n\tlist-style: none;\n\toverflow-y: scroll;\n\toverflow-x: hidden;\n}\n.chat-thread li {\n\tposition: relative;\n\tclear: both;\n\tdisplay: inline-block;\n\tpadding: 1rem 2.5rem 1rem 1.25rem;\n\tmargin: 0 0 1.25rem 0;\n\tfont: 1rem/1.25rem 'Noto Sans', sans-serif;\n\tborder-radius: 0.625rem;\n\tbackground-color: rgba(25, 147, 147, 0.2);\n}\n.chat-thread li:before {\n\tposition: absolute;\n\ttop: 0;\n\twidth: 3.125rem;\n\theight: 3.125rem;\n\tborder-radius: 3.125rem;\n\tcontent: '';\n}\n.chat-thread li:after {\n\tposition: absolute;\n\ttop: 0.9375rem;\n\tcontent: '';\n\twidth: 0;\n\theight: 0;\n\tborder-top: 0.9375rem solid rgba(25, 147, 147, 0.2);\n}\n.chat-thread li.mine {\n\tanimation: show-chat-odd 0.15s 1 ease-in;\n\tfloat: right;\n\tmargin-right: 5rem;\n\tcolor: #0ad5c1;\n}\n.chat-thread li.mine:before {\n\tright: -5rem;\n\tbackground-image: url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTAA/9sAQwAHBQUGBQQHBgUGCAcHCAoRCwoJCQoVDxAMERgVGhkYFRgXGx4nIRsdJR0XGCIuIiUoKSssKxogLzMvKjInKisq/9sAQwEHCAgKCQoUCwsUKhwYHCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq/8AAEQgAMgAyAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8wre0/w55qLLqM62ysMrEWAdh+PSl8M6fFLMbu5K7YziNT3b1/CqniRLq98UA2SlhHGobnA55FdbajHmZwxTnLlRtm78NabDGhs/tEwchmVfMGD0znvn0pqahoN3fCH+z0RcHcWiKY4745/KuUVtTtdSFtJCvmxHmN+317Gp5dTthGZXUSXPJJVsh1PUH1rP2rZt7GKOi1LwxHIv2jRg20jPks4b64b+h/OuZZWRyrqVZTggjBBrZ0PWftFwkA8xImTpu7gVJr1kpX7UhzJ0cZ5I9a0umtDJxcWYVFFFBJ1WlKkOmQASYyoYjZnk81aukuLHTP7YFtDeW6zJEFmyu4555H8PQemaz9NmR9PhO45C7T+HFa1rrk9iwSZ3vLJU+WyaVUCsDncMjJI64H41riYRVHmS7E4KbliOWT7nPePtPvbm8j1trWSyF3GpkgkYEbl4BBHTjHBrn49GkfRLnUpn2tBgtFj76k4GD/e749K63xb4gtdTtp4LeRismGVyOmDnpWBq2pXd74ZsdPjG2GCTdHDEnzSN/ebHLH+VeXBuyR7E4wu35EXhKKObVCRnMKMwY+hwAPz5rrJ7bzYXTfu3Ag5yKwfC+nNZvcPPJHvdQDGnJjOehPTPsOlb0zLFA8m/hVJ/SvXo0oundnhV6slU5UcjRRRXPY3Luk3giYwSHCscqfetfULXOlR3TXIhZ2ZYfLILHHDkjsO3PJPSuXqeC5aPzd5ZjIQdxOcEDFa+0fJyEKmvac5myyQWJlRZnkkTHytjoeuPepLaa9vi4ib7LbOMyFG5KjtnrVMabPd30gcrCjMSZGPQf1NbF0i29pHBAUlbABVT8pPqSOwrljDW53c+lrl/RWxvymyDAWPjsPSpdVnVF8iNsk8tz0HpVFLloowEYvJjBkIwB7AdhUGSxJJyT1JrpU2o8py1IwlJS6hRS0VAiKiiikUKKUUUUxC0ooooAKKKKQH/2Q==);\n}\n.chat-thread li.mine:after {\n\tborder-right: 0.9375rem solid transparent;\n\tright: -15px;\n}\n.chat-thread li.other {\n\tanimation: show-chat-even 0.15s 1 ease-in;\n\tfloat: left;\n\tmargin-left: 5rem;\n\tcolor: #0ec879;\n}\n.chat-thread li.other:before {\n\tleft: -5rem;\n\tbackground-image: url(data:image/jpeg;base64,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);\n}\n.chat-thread li.other:after {\n\tborder-left: 0.9375rem solid transparent;\n\tleft: -0.9375rem;\n}\n.chat-window {\n\tposition: fixed;\n\tbottom: 1.125rem;\n}\n.chat-window-message {\n\twidth: 100%;\n\theight: 3rem;\n\tfont: 32px/48px 'Noto Sans', sans-serif;\n\tbackground: none;\n\tcolor: #0ad5c1;\n\tborder: 0;\n\tborder-bottom: 0.0625rem solid rgba(25, 147, 147, 0.2);\n\toutline: none;\n}\n@media all and (max-width: 767px) {\n\t.chat-thread {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t.chat-window {\n\t\tleft: 5%;\n\t\twidth: 90%;\n\t}\n}\n@media all and (min-width: 768px) {\n\t.chat-thread {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t.chat-window {\n\t\tleft: 25%;\n\t\twidth: 50%;\n\t}\n}\n@keyframes show-chat-even {\n\t0% {\n\t\tmargin-left: -30rem;\n\t}\n\t100% {\n\t\tmargin-left: 0;\n\t}\n}\n@keyframes show-chat-odd {\n\t0% {\n\t\tmargin-right: -30rem;\n\t}\n\t100% {\n\t\tmargin-right: 0;\n\t}\n}\n.credits {\n\ttext-align: center;\n\tmargin-top: 2.1875rem;\n\tcolor: rgba(255, 255, 255, 0.35);\n\tfont-family: 'Noto Sans', sans-serif;\n}\n.credits a {\n\ttext-decoration: none;\n\tcolor: rgba(255, 255, 255, 0.35);\n}\n</style>\n"]}]}