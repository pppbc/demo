{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/allComments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/allComments.vue","mtime":1569469433000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {NavBar,Row,Col,List,Toast} from 'vant'\nexport default{\n\tcomponents:{\n\t\t[NavBar.name]:NavBar,\n\t\t[Row.name]:Row,\n\t\t[Col.name]:Col,\n\t\t[List.name]:List,\n\t\t[Toast.name]:Toast\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tallComments:[],\n\t\t\tloading:false,\n\t\t\tfinished:false,\n\t\t\tpid:0\n\t\t}\n\t},\n\tmethods:{\n\t\tgoBack(){\n\t\t\tthis.$router.back()\n\t\t},\n\t\tonLoad(){\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.getAllComments(this.$store.state.requestAllCommentsCount)\n\t\t\t\tthis.loading = false\n\t\t\t},100)\n\t\t},\n\t\tgetAllComments(count){\n\t\t\tthis.$store.commit('allComments','')\n\t\t\tvar url = '/order/getProductComment?product_id='+this.pid+'&page='+count\n\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\tif (response.data.obj.length > 0) {\n\t\t\t\t\t\tthis.$store.commit('requestAllCommentsCount',1)\n\t\t\t\t\t\tthis.$store.commit(\"allComments\",response.data.obj)\n\t\t\t\t\t\tthis.allComments = [...this.allComments,...response.data.obj]\n\t\t\t\t\t} else{\n\t\t\t\t\t\tthis.finished = true\n\t\t\t\t\t}\n\t\t\t\t} \n\t\t\t}).catch((response)=>{\n\t\t\t\tToast(\"网络请求出错\")\n\t\t\t})\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.$store.commit('requestAllCommentsCount',0)\n\t\tthis.$store.commit(\"allComments\",'')\n\t\tthis.pid = this.$route.params.pid\n\t}\n}\n",{"version":3,"sources":["allComments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"allComments.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n\t<div>\n\t\t<van-nav-bar\n\t\t\ttitle=\"全部评价\"\n\t\t\tleft-arrow\n\t\t\t@click-left=\"goBack\"\n\t\t/>\n\t\t\n\t\t<van-list\n\t\t\tv-model=\"loading\"\n\t\t\t:finished=\"finished\"\n\t\t\tfinished-text=\"没有更多了\"\n\t\t\t@load=\"onLoad\"\n\t\t>\n\t\t\t<van-row class=\"comment\">\n\t\t\t\t<van-col span=\"24\" v-for=\"(item,index) in allComments\" :key=\"index\">\n\t\t\t\t\t<van-row class=\"name\">\n\t\t\t\t\t\t<van-col span=\"10\" offset=\"1\">{{item.UserName.replace(item.UserName.substring(3,7),'****')}}</van-col>\n\t\t\t\t\t\t<van-col span=\"5\">{{item.Title}}</van-col>\n\t\t\t\t\t</van-row>\n\t\t\t\t\t<van-row class=\"time\">\n\t\t\t\t\t\t<van-col span=\"23\" offset=\"1\">{{item.CreateTime.replace('T',' ').replace('Z',' ')}}</van-col>\n\t\t\t\t\t</van-row>\n\t\t\t\t\t<van-row class=\"content\">\n\t\t\t\t\t\t<van-col span=\"23\" offset=\"1\">{{item.Content}}</van-col>\n\t\t\t\t\t</van-row>\n\t\t\t\t</van-col>\n\t\t\t</van-row>\n\t\t</van-list>\n\t\t\n\t</div>\n</template>\n\n<script>\n\timport {NavBar,Row,Col,List,Toast} from 'vant'\n\texport default{\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[Row.name]:Row,\n\t\t\t[Col.name]:Col,\n\t\t\t[List.name]:List,\n\t\t\t[Toast.name]:Toast\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tallComments:[],\n\t\t\t\tloading:false,\n\t\t\t\tfinished:false,\n\t\t\t\tpid:0\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgoBack(){\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tonLoad(){\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.getAllComments(this.$store.state.requestAllCommentsCount)\n\t\t\t\t\tthis.loading = false\n\t\t\t\t},100)\n\t\t\t},\n\t\t\tgetAllComments(count){\n\t\t\t\tthis.$store.commit('allComments','')\n\t\t\t\tvar url = '/order/getProductComment?product_id='+this.pid+'&page='+count\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\t\tif (response.data.obj.length > 0) {\n\t\t\t\t\t\t\tthis.$store.commit('requestAllCommentsCount',1)\n\t\t\t\t\t\t\tthis.$store.commit(\"allComments\",response.data.obj)\n\t\t\t\t\t\t\tthis.allComments = [...this.allComments,...response.data.obj]\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tthis.finished = true\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast(\"网络请求出错\")\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tbeforeMount() {\n\t\t\tthis.$store.commit('requestAllCommentsCount',0)\n\t\t\tthis.$store.commit(\"allComments\",'')\n\t\t\tthis.pid = this.$route.params.pid\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.van-nav-bar__arrow{\n\t\tfont-size: 1.5rem;\n\t\tcolor: black;\n\t}\n\t\n\t.comment{\n\t\tbackground: white;\n\t}\n\t.van-col{\n\t\tmargin-top: 0.2rem;\n\t\tmargin-bottom: 0.2rem;\n\t}\n\t.comment>.van-col{\n\t\tmargin-bottom: 0.3125rem;\n\t}\n\t.name{\n\t\ttext-align: left;\n\t\tfont-size: 0.875rem;\n\t}\n\t.time{\n\t\tfont-size: 0.75rem;\n\t\tcolor: gray;\n\t\ttext-align: left;\n\t}\n\t.content{\n\t\tfont-size: 0.9375rem;\n\t\ttext-align: left;\n\t}\n</style>\n"]}]}