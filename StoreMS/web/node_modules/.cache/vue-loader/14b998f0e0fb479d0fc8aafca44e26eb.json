{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/userinfo/modifyInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/userinfo/modifyInfo.vue","mtime":1567825401000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport util from '@/utils/Utils.js'\nimport {NavBar,Field,CellGroup,Cell,RadioGroup,Radio,Toast,Overlay,Loading} from 'vant'\nexport default{\n\tcomponents:{\n\t\t[NavBar.name]:NavBar,\n\t\t[Field.name]:Field,\n\t\t[CellGroup.name]:CellGroup,\n\t\t[Cell.name]:Cell,\n\t\t[RadioGroup.name]:RadioGroup,\n\t\t[Radio.name]:Radio,\n\t\t[Toast.name]:Toast,\n\t\t[Overlay.name]:Overlay,\n\t\t[Loading.name]:Loading\n\t},\n\tdata(){\n\t\treturn{\n\t\t\ttitle:'',\n\t\t\tplaceholder:'',\n\t\t\tnickname:'',\n\t\t\tgender:'',\n\t\t\temail:'',\n\t\t\tloadingText:'登录中...',\n\t\t\tshow:false\n\t\t}\n\t},\n\tmethods:{\n\t\tgoBack(){\n\t\t\tthis.$router.back()\n\t\t},\n\t\tsubmit(){\n\t\t\tif (this.title === '昵称') {\n\t\t\t\tif (this.nickname === '') {\n\t\t\t\t\tToast('昵称不能为空')\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.show = true\n\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\tvar url = '/user/nick?user_id='+this.$store.state.userID+'&nick='+this.nickname+'&token='+this.$store.state.token\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t}else if (response.data.status == 1) {\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tthis.loadingText = response.data.detail\n\t\t\t\t\t\t\tthis.$store.commit('nickname',this.nickname)\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t} else{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t},1000)\n\t\t\t\t})\n\t\t\t} else if (this.title === '性别') {\n\t\t\t\tif (this.gender === '') {\n\t\t\t\t\tToast('请选择您的性别')\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.show = true\n\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\tvar url = '/user/sex?user_id='+this.$store.state.userID+'&sex='+this.gender+'&token='+this.$store.state.token\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t}else if (response.data.status == 1) {\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tthis.loadingText = response.data.detail\n\t\t\t\t\t\t\tthis.$store.commit('gender',this.gender)\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t} else{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t},1000)\n\t\t\t\t})\n\t\t\t} else{\n\t\t\t\tif (this.email === '') {\n\t\t\t\t\tToast('邮箱不能为空')\n\t\t\t\t\treturn \n\t\t\t\t}\n\t\t\t\tthis.show = true\n\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\tvar url = '/user/email?user_id='+this.$store.state.userID+'&email='+this.email+'&token='+this.$store.state.token\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t}else if (response.data.status == 1) {\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tthis.loadingText = response.data.detail\n\t\t\t\t\t\t\tthis.$store.commit('email',this.email)\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t} else{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t},1000)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\tmounted(){\n\t\tthis.nickname = this.$store.state.nickname ?  this.$store.state.nickname : ''\n\t\tthis.gender = this.$store.state.gender ? this.$store.state.gender : ''\n\t\tthis.email = this.$store.state.email ? this.$store.state.email : ''\n\t},\n\tbeforeRouteEnter(to,from,next){\n\t\tnext(vm=>{\n\t\t\tvm.title = to.meta.title\n\t\t})\n\t}\n}\n",{"version":3,"sources":["modifyInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modifyInfo.vue","sourceRoot":"src/pages/userinfo","sourcesContent":["<template>\n\t<div id=\"modifyInfo\">\n\t\t<van-nav-bar\n\t\t\t:title=\"title\"\n\t\t\tleft-arrow\n\t\t\tright-text='确定'\n\t\t\t@click-left=\"goBack\"\n\t\t\t@click-right=\"submit\"\n\t\t/>\n\t\t\n\t\t<van-field \n\t\t\tv-if=\"title === '昵称'\" \n\t\t\tplaceholder=\"请设置昵称\"\n\t\t\tv-model=\"nickname\"\n\t\t\tclearable\n\t\t>\n\t\t</van-field>\n\t\t\n\t\t<van-field\n\t\t\tv-if=\"title === '邮箱'\" \n\t\t\tplaceholder=\"请设置邮箱\"\n\t\t\tv-model=\"email\"\n\t\t\tclearable\n\t\t>\n\t\t</van-field>\n\t\t\n\t\t<van-radio-group v-if=\"title === '性别'\" v-model=\"gender\">\n\t\t\t<van-cell-group>\n\t\t\t\t<van-cell title=\"男\" clickable @click=\"gender == '男'\">\n\t\t\t\t\t<van-radio slot=\"right-icon\" name='男'/>\n\t\t\t\t</van-cell>\n\t\t\t\t<van-cell title=\"女\" clickable @click=\"gender == '女'\">\n\t\t\t\t\t<van-radio slot=\"right-icon\" name='女'/>\n\t\t\t\t</van-cell>\n\t\t\t\t<van-cell title=\"保密\" clickable @click=\"gender == '保密'\">\n\t\t\t\t\t<van-radio slot=\"right-icon\" name='保密'/>\n\t\t\t\t</van-cell>\n\t\t\t</van-cell-group>\n\t\t</van-radio-group>\n\t\t\n\t\t<van-overlay :show=\"show\" class-name=\"overlay\" />\n\t\t<van-loading v-if=\"show\" vertical>{{loadingText}}</van-loading>\n\t</div>\n</template>\n\n<script>\n\timport util from '@/utils/Utils.js'\n\timport {NavBar,Field,CellGroup,Cell,RadioGroup,Radio,Toast,Overlay,Loading} from 'vant'\n\texport default{\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[Field.name]:Field,\n\t\t\t[CellGroup.name]:CellGroup,\n\t\t\t[Cell.name]:Cell,\n\t\t\t[RadioGroup.name]:RadioGroup,\n\t\t\t[Radio.name]:Radio,\n\t\t\t[Toast.name]:Toast,\n\t\t\t[Overlay.name]:Overlay,\n\t\t\t[Loading.name]:Loading\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\ttitle:'',\n\t\t\t\tplaceholder:'',\n\t\t\t\tnickname:'',\n\t\t\t\tgender:'',\n\t\t\t\temail:'',\n\t\t\t\tloadingText:'登录中...',\n\t\t\t\tshow:false\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgoBack(){\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tsubmit(){\n\t\t\t\tif (this.title === '昵称') {\n\t\t\t\t\tif (this.nickname === '') {\n\t\t\t\t\t\tToast('昵称不能为空')\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.show = true\n\t\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\t\tvar url = '/user/nick?user_id='+this.$store.state.userID+'&nick='+this.nickname+'&token='+this.$store.state.token\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n\t\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t\t}else if (response.data.status == 1) {\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.loadingText = response.data.detail\n\t\t\t\t\t\t\t\tthis.$store.commit('nickname',this.nickname)\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t})\n\t\t\t\t} else if (this.title === '性别') {\n\t\t\t\t\tif (this.gender === '') {\n\t\t\t\t\t\tToast('请选择您的性别')\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.show = true\n\t\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\t\tvar url = '/user/sex?user_id='+this.$store.state.userID+'&sex='+this.gender+'&token='+this.$store.state.token\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n\t\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t\t}else if (response.data.status == 1) {\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.loadingText = response.data.detail\n\t\t\t\t\t\t\t\tthis.$store.commit('gender',this.gender)\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t})\n\t\t\t\t} else{\n\t\t\t\t\tif (this.email === '') {\n\t\t\t\t\t\tToast('邮箱不能为空')\n\t\t\t\t\t\treturn \n\t\t\t\t\t}\n\t\t\t\t\tthis.show = true\n\t\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\t\tvar url = '/user/email?user_id='+this.$store.state.userID+'&email='+this.email+'&token='+this.$store.state.token\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.detail && response.data.detail == 'token异常，重新登陆') {\n\t\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t\t}else if (response.data.status == 1) {\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.loadingText = response.data.detail\n\t\t\t\t\t\t\t\tthis.$store.commit('email',this.email)\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted(){\n\t\t\tthis.nickname = this.$store.state.nickname ?  this.$store.state.nickname : ''\n\t\t\tthis.gender = this.$store.state.gender ? this.$store.state.gender : ''\n\t\t\tthis.email = this.$store.state.email ? this.$store.state.email : ''\n\t\t},\n\t\tbeforeRouteEnter(to,from,next){\n\t\t\tnext(vm=>{\n\t\t\t\tvm.title = to.meta.title\n\t\t\t})\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.van-nav-bar__arrow{\n\t\tcolor: black;\n\t\tfont-size: 1.2rem;\n\t}\n\t.van-nav-bar__text{\n\t\tcolor: rgb(96,96,96);\n\t}\n\t.van-radio-group{\n\t\ttext-align: left;\n\t}\n\t.overlay{\n\t\tbackground-color: rgba(0,0,0,0);\n\t}\n</style>\n"]}]}