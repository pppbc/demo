{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/setting/settingPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/setting/settingPage.vue","mtime":1568447255000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {NavBar,Row,Col,CellGroup,Cell,Button,Divider,Overlay,Loading,Toast,Dialog} from 'vant'\nimport {Images} from '@/resources/index.js'\nexport default{\n\tcomponents:{\n\t\t[NavBar.name]:NavBar,\n\t\t[Row.name]:Row,\n\t\t[Col.name]:Col,\n\t\t[CellGroup.name]:CellGroup,\n\t\t[Cell.name]:Cell,\n\t\t[Button.name]:Button,\n\t\t[Divider.name]:Divider,\n\t\t[Overlay.name]:Overlay,\n\t\t[Loading.name]:Loading,\n\t\t[Toast.name]:Toast,\n\t\t[Dialog.name]:Dialog\n\t},\n\tdata(){\n\t\treturn {\n\t\t\tbg:Images.setting.ic_bg,\n\t\t\ttitle:'',\n\t\t\tloadingText:'修改中...',\n\t\t\tshow:false,\n\t\t\taddressList:[],\n\t\t\tcheckedIcon:Images.setting.ic_radio_selected,\n\t\t\tuncheckedIcon:Images.setting.ic_radio_normal,\n\t\t\teditIcon:Images.setting.ic_edit,\n\t\t\tdelIcon:Images.setting.ic_delete,\n\t\t\taccountAndSecurityList:[\n\t\t\t\t{title:'设置登录密码',name:'/loginPassword'},\n\t\t\t\t{title:'设置支付密码',name:'/tradingPassword'},\n\t\t\t],\n\t\t\tfromPage:''\n\t\t}\n\t},\n\tmethods:{\n\t\tgoBack(){\n\t\t\tthis.$router.back()\n\t\t},\n\t\tgetData(title){\n\t\t\tthis.title = title\n\t\t\tif (this.title === '收货地址') {\n\t\t\t\tthis.addressList = this.$store.state.receiverAddressList\n\t\t\t} else if (this.title === '账户与安全'){\n\t\t\t\tconsole.log(\"账号与安全\");\n\t\t\t} else {\n\t\t\t\tconsole.log(\"其他界面\")\n\t\t\t}\n\t\t},\n\t\tchangeDefalutAddr(ID,index){\n\t\t\tthis.show = true\n\t\t\t// this.loadingText = '修改中...'\n\t\t\tvar url = '/ship/setDefaultAdd?user_id='+this.$store.state.userID+'&add_id='+ID+'&token='+this.$store.state.token\n\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\tconsole.log(response)\n\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t}else if(response.data.status === 1){\n\t\t\t\t\tthis.$store.commit(\"exchangeReceiverItem\",index)\n\t\t\t\t\tthis.$store.commit('currentReceiverAddress')\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.show = false;\n\t\t\t\t\t\t}, 100)\n\t\t\t\t\t},100)\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t}, 100)\n\t\t\t\t\t}, 100)\n\t\t\t\t}\n\t\t\t}).catch((response)=>{\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\tthis.show = false\n\t\t\t\t},100)\n\t\t\t})\n\t\t},\n\t\tdelAddr(ID,index){\n\t\t\tDialog.confirm({\n\t\t\t\ttitle:'提示',\n\t\t\t\tmessage:'是否确认删除改地址'\n\t\t\t}).then(()=>{\n\t\t\t\tthis.delConfirm(ID,index)\n\t\t\t}).catch(()=>{\n\t\t\t\t\n\t\t\t})\n\t\t},\n\t\tdelConfirm(ID,index){\n\t\t\tthis.show = true\n\t\t\tvar url = '/ship/delAdd?user_id='+this.$store.state.userID+'&add_id='+ID+'&token='+this.$store.state.token\n\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\tthis.$store.commit('deleteReceiverItem',index)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tToast('已删除')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t}, 10)\n\t\t\t\t\t}, 10)\n\t\t\t\t} else{\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tToast('删除失败，请重试')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t}, 10);\n\t\t\t\t\t}, 10);\n\t\t\t\t}\n\t\t\t}).catch((response)=>{\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t}, 10);\n\t\t\t\t}, 10);\n\t\t\t})\n\t\t},\n\t\tmodifyAddr(index){\n\t\t\tthis.$router.push('/modifyAddress/'+index)\n\t\t},\n\t\taddAddr(){\n\t\t\tthis.$router.push('/addAddress')\n\t\t},\n\t\tselectAddr(index){\n\t\t\tif (this.fromPage === 'confirmOrder') {\n\t\t\t\tthis.$store.commit('currentReceiverAddress',index)\n\t\t\t\tthis.$router.back()\n\t\t\t}\n\t\t}\n\t},\n\tbeforeRouteEnter(to,from,next){\n\t\tnext(vm=>{\n\t\t\tvm.getData(to.meta.title)\n\t\t\tvm.fromPage = from.name\n\t\t})\n\t}\n}\n",{"version":3,"sources":["settingPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"settingPage.vue","sourceRoot":"src/pages/setting","sourcesContent":["<template>\n\t<div id=\"settingPage\">\n\t\t<van-nav-bar\n\t\t\t:title=\"title\"\n\t\t\tleft-arrow\n\t\t\tfixed\n\t\t\t@click-left=\"goBack\"\n\t\t/>\n\t\t<div v-if=\"title === '收货地址'\" style=\"margin-top: 46px;margin-bottom: 80px;overflow: hidden;\">\n\t\t\t<van-row class=\"addressContent\" v-for=\"(item,index) in addressList\" :key=\"index\" @click=\"selectAddr(index)\">\n\t\t\t\t<van-col span=\"24\">\n\t\t\t\t\t<van-row class=\"row1\">\n\t\t\t\t\t\t<van-col span=\"8\">{{item.ReceiverName}}</van-col>\n\t\t\t\t\t\t<van-col span=\"10\">{{item.ReceiverMobile}}</van-col>\n\t\t\t\t\t</van-row>\n\t\t\t\t\t<van-row class=\"row2\">\n\t\t\t\t\t\t<van-col span=\"24\">{{item.ReceiverProvince+' '+item.ReceiverCity+' '+item.ReceiverDistrict+' '+item.DetailAddress}}</van-col>\n\t\t\t\t\t</van-row>\n\t\t\t\t\t<van-divider />\n\t\t\t\t\t<van-row class=\"row3\">\n\t\t\t\t\t\t<van-col v-if=\"item.DefaultAddress === 1\" span=\"14\">\n\t\t\t\t\t\t\t<van-button class=\"checkbtn1\" tag=\"span\" :icon=\"checkedIcon\">已设为默认</van-button>\n\t\t\t\t\t\t</van-col>\n\t\t\t\t\t\t<van-col v-else span=\"14\">\n\t\t\t\t\t\t\t<van-button class=\"checkbtn2\" tag=\"span\" :icon=\"uncheckedIcon\" @click=\"changeDefalutAddr(item.ID,index)\">设为默认</van-button>\n\t\t\t\t\t\t</van-col>\n\t\t\t\t\t\t<van-col span=\"5\">\n\t\t\t\t\t\t\t<van-button class=\"editbtn\" :icon=\"editIcon\" @click=\"modifyAddr(index)\">修改</van-button>\n\t\t\t\t\t\t</van-col>\n\t\t\t\t\t\t<van-col span=\"5\">\n\t\t\t\t\t\t\t<van-button class=\"delbtn\" :icon=\"delIcon\" @click=\"delAddr(item.ID,index)\">删除</van-button>\n\t\t\t\t\t\t</van-col>\n\t\t\t\t\t</van-row>\n\t\t\t\t</van-col>\n\t\t\t</van-row>\n\t\t\t\n\t\t\t<van-row class=\"addBtn\">\n\t\t\t\t<van-col span=\"14\" offset=\"5\">\n\t\t\t\t\t<van-button class=\"btn1\" type=\"danger\" round @click=\"addAddr\">添加地址</van-button>\n\t\t\t\t</van-col>\n\t\t\t</van-row>\n\t\t</div>\n\t\t\n\t\t<div v-if=\"title === '账户与安全'\" style=\"margin-top: 46px;margin-bottom: 80px;overflow: hidden;\">\n\t\t\t<van-cell-group class=\"account\">\n\t\t\t\t<van-cell\n\t\t\t\t\tv-for=\"(item,index) in accountAndSecurityList\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t:title=\"item.title\"\n\t\t\t\t\t:to=\"item.name\"\n\t\t\t\t\tis-link\n\t\t\t\t/>\n\t\t\t</van-cell-group>\n\t\t</div>\n\t\t<van-overlay :show=\"show\" class-name=\"overlay\" />\n\t\t<!-- <van-loading v-if=\"show\" vertical>{{loadingText}}</van-loading> -->\n\t\t\n\t</div>\n</template>\n\n<script>\n\timport {NavBar,Row,Col,CellGroup,Cell,Button,Divider,Overlay,Loading,Toast,Dialog} from 'vant'\n\timport {Images} from '@/resources/index.js'\n\texport default{\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[Row.name]:Row,\n\t\t\t[Col.name]:Col,\n\t\t\t[CellGroup.name]:CellGroup,\n\t\t\t[Cell.name]:Cell,\n\t\t\t[Button.name]:Button,\n\t\t\t[Divider.name]:Divider,\n\t\t\t[Overlay.name]:Overlay,\n\t\t\t[Loading.name]:Loading,\n\t\t\t[Toast.name]:Toast,\n\t\t\t[Dialog.name]:Dialog\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tbg:Images.setting.ic_bg,\n\t\t\t\ttitle:'',\n\t\t\t\tloadingText:'修改中...',\n\t\t\t\tshow:false,\n\t\t\t\taddressList:[],\n\t\t\t\tcheckedIcon:Images.setting.ic_radio_selected,\n\t\t\t\tuncheckedIcon:Images.setting.ic_radio_normal,\n\t\t\t\teditIcon:Images.setting.ic_edit,\n\t\t\t\tdelIcon:Images.setting.ic_delete,\n\t\t\t\taccountAndSecurityList:[\n\t\t\t\t\t{title:'设置登录密码',name:'/loginPassword'},\n\t\t\t\t\t{title:'设置支付密码',name:'/tradingPassword'},\n\t\t\t\t],\n\t\t\t\tfromPage:''\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgoBack(){\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tgetData(title){\n\t\t\t\tthis.title = title\n\t\t\t\tif (this.title === '收货地址') {\n\t\t\t\t\tthis.addressList = this.$store.state.receiverAddressList\n\t\t\t\t} else if (this.title === '账户与安全'){\n\t\t\t\t\tconsole.log(\"账号与安全\");\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"其他界面\")\n\t\t\t\t}\n\t\t\t},\n\t\t\tchangeDefalutAddr(ID,index){\n\t\t\t\tthis.show = true\n\t\t\t\t// this.loadingText = '修改中...'\n\t\t\t\tvar url = '/ship/setDefaultAdd?user_id='+this.$store.state.userID+'&add_id='+ID+'&token='+this.$store.state.token\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tconsole.log(response)\n\t\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t}else if(response.data.status === 1){\n\t\t\t\t\t\tthis.$store.commit(\"exchangeReceiverItem\",index)\n\t\t\t\t\t\tthis.$store.commit('currentReceiverAddress')\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.show = false;\n\t\t\t\t\t\t\t}, 100)\n\t\t\t\t\t\t},100)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tToast(response.data.detail)\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t}, 100)\n\t\t\t\t\t\t}, 100)\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t},100)\n\t\t\t\t})\n\t\t\t},\n\t\t\tdelAddr(ID,index){\n\t\t\t\tDialog.confirm({\n\t\t\t\t\ttitle:'提示',\n\t\t\t\t\tmessage:'是否确认删除改地址'\n\t\t\t\t}).then(()=>{\n\t\t\t\t\tthis.delConfirm(ID,index)\n\t\t\t\t}).catch(()=>{\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t},\n\t\t\tdelConfirm(ID,index){\n\t\t\t\tthis.show = true\n\t\t\t\tvar url = '/ship/delAdd?user_id='+this.$store.state.userID+'&add_id='+ID+'&token='+this.$store.state.token\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\t\tthis.$store.commit('deleteReceiverItem',index)\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tToast('已删除')\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t}, 10)\n\t\t\t\t\t\t}, 10)\n\t\t\t\t\t} else{\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tToast('删除失败，请重试')\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t}, 10);\n\t\t\t\t\t\t}, 10);\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t}, 10);\n\t\t\t\t\t}, 10);\n\t\t\t\t})\n\t\t\t},\n\t\t\tmodifyAddr(index){\n\t\t\t\tthis.$router.push('/modifyAddress/'+index)\n\t\t\t},\n\t\t\taddAddr(){\n\t\t\t\tthis.$router.push('/addAddress')\n\t\t\t},\n\t\t\tselectAddr(index){\n\t\t\t\tif (this.fromPage === 'confirmOrder') {\n\t\t\t\t\tthis.$store.commit('currentReceiverAddress',index)\n\t\t\t\t\tthis.$router.back()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tbeforeRouteEnter(to,from,next){\n\t\t\tnext(vm=>{\n\t\t\t\tvm.getData(to.meta.title)\n\t\t\t\tvm.fromPage = from.name\n\t\t\t})\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.van-nav-bar__arrow{\n\t\tcolor: black;\n\t\tfont-size: 1.2rem;\n\t}\n\t.addressContent{\n\t\tmargin: 0.625rem 0.625rem 0 0.625rem;\n\t\ttext-align: left;\n\t\tbackground: #FFFFFF;\n\t\tborder-radius: 0.625rem;\n\t}\n\t.row1{\n\t\tmargin: 0.75rem 0.9375rem 0.625rem ;\n\t\tcolor: rgb(36,36,36);\n\t\tfont-weight: bold;\n\t}\n\t.row1 .van-col:first-child{\n\t\tfont-size: 1rem;\n\t}\n\t.row1 .van-col:last-child{\n\t\tfont-size: 0.875rem;\n\t}\n\t.row2{\n\t\tmargin: 0 0.9375rem 0.9375rem;\n\t\tfont-size: 0.875rem;\n\t\tcolor: rgb(36,36,36);\n\t}\n\t.row3{\n\t\tmargin: 1.0625rem 0.9375rem;\n\t}\n\t.checkbtn1{\n\t\tcolor: red;\n\t\tfont-size: 0.75rem;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: none;\n\t\theight: 0.75rem;\n\t\tline-height: 0.75rem;\n\t}\n\t.checkbtn2{\n\t\tcolor: rgb(96,96,96);\n\t\tfont-size: 0.75rem;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: none;\n\t\theight: 0.75rem;\n\t\tline-height: 0.75rem;\n\t}\n\t.editbtn,.delbtn{\n\t\tcolor: rgb(96,96,96);\n\t\tfont-size: 0.75rem;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: none;\n\t\theight: 0.75rem;\n\t\tline-height: 0.75rem;\n\t}\n\t.van-button:active::before {\n\t\topacity: 0\n\t}\n\t.van-divider{\n\t\tmargin: 0;\n\t}\n\t.addBtn{\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tpadding-bottom: 0.9375rem;\n\t\tpadding-top: 0.625rem;\n\t\twidth: 100%;\n\t\tbackground: #F5F5F5;\n\t}\n\t.btn1{\n\t\twidth: 100%;\n\t}\n\t.account{\n\t\tmargin: 0.625rem 0.625rem 0 0.625rem;\n\t\tborder-radius: 0.625rem;\n\t\toverflow: hidden;\n\t\ttext-align: left;\n\t}\n\t\n\t.overlay{\n\t\tbackground-color: rgba(0,0,0,0);\n\t}\n</style>\n"]}]}