{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/orderPage/comment.vue?vue&type=style&index=0&id=fa67fe0e&scoped=true&lang=css&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/orderPage/comment.vue","mtime":1568794814000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.comment{\n\tmargin-top: 7.5rem;\n\t\n}\n",{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;;AAEA","file":"comment.vue","sourceRoot":"src/pages/orderPage","sourcesContent":["<template>\n\t<div class=\"comment\">\n\t\t<van-list\n\t\t\tv-model=\"loading\"\n\t\t\t:finished=\"finished\"\n\t\t\tfinished-text=\"没有更多了\"\n\t\t\t@load=\"onLoad\"\n\t\t>\n\t\t\t<order-cell \n\t\t\t\tv-for=\"(item,index) in data\" \n\t\t\t\t:key=\"index\"\n\t\t\t\ttitle=\"待评价\"\n\t\t\t\t:time=\"item.CreateTime.replace('T',' ').replace('Z',' ')\"\n\t\t\t\t:image=\"item.ProductImage\"\n\t\t\t\t:name=\"item.ProductName\"\n\t\t\t\t:goodsNum=\"item.Quantity\"\n\t\t\t\t:totalPrice=\"item.TotalPrice\"\n\t\t\t\t:orderNo=\"item.OrderNo\"\n\t\t\t\t@returnOrder=\"returnOrder(item)\"\n\t\t\t\t@comment=\"comment(item)\"\n\t\t\t></order-cell>\n\t\t</van-list>\n\t</div>\n</template>\n\n<script>\n\timport {Toast,List} from 'vant'\n\timport orderCell from '@/components/orderCell.vue'\n\texport default{\n\t\tcomponents:{\n\t\t\t[Toast.name]:Toast,\n\t\t\t[List.name]:List,\n\t\t\torderCell\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tdata:[],\n\t\t\t\tloading:false,\n\t\t\t\tfinished:false,\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgetCommentList(count){\n\t\t\t\tvar url = '/order/successList?user_id='+this.$store.state.userID+'&page='+count+'&token='+this.$store.state.token\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\t\tif (response.data.obj.length>0) {\n\t\t\t\t\t\t\tthis.$store.commit('requestCommentListCount',1)\n\t\t\t\t\t\t\tthis.data = [...this.data,...response.data.obj]\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tthis.finished = true\n\t\t\t\t\t\t}\n\t\t\t\t\t} else{\n\t\t\t\t\t\tToast('数据请求失败，请重试')\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t})\n\t\t\t},\n\t\t\tonLoad(){\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.getCommentList(this.$store.state.requestCommentListCount)\n\t\t\t\t\tthis.loading = false\n\t\t\t\t},1000)\n\t\t\t},\n\t\t\treturnOrder(item){\n\t\t\t\tthis.$store.commit('refundReturnData',item)\n\t\t\t\tthis.$router.push('/returnApply/退货申请')\n\t\t\t},\n\t\t\tcomment(item){\n\t\t\t\tthis.$store.commit('commentData',item)\n\t\t\t\tthis.$router.push('/commentPage')\n\t\t\t}\n\t\t},\n\t\tbeforeRouteEnter(to,from,next) {\n\t\t\tnext(vm=>{\n\t\t\t\tvm.$store.commit('requestCommentListCount',0)\n\t\t\t\tvm.getCommentList(vm.$store.state.requestCommentListCount)\n\t\t\t})\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.comment{\n\t\tmargin-top: 7.5rem;\n\t\t\n\t}\n</style>\n"]}]}