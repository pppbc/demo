{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/orderPage/commentPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/orderPage/commentPage.vue","mtime":1568790080000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {NavBar,Rate,Image,Field,Card,Row,Col,Toast} from 'vant'\nexport default{\n\tcomponents:{\n\t\t[NavBar.name]:NavBar,\n\t\t[Rate.name]:Rate,\n\t\t[Image.name]:Image,\n\t\t[Field.name]:Field,\n\t\t[Card.name]:Card,\n\t\t[Row.name]:Row,\n\t\t[Col.name]:Col,\n\t\t[Toast.name]:Toast\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tdata:'',\n\t\t\trate:0,\n\t\t\tmessage:''\n\t\t}\n\t},\n\tmethods:{\n\t\tgoBack(){\n\t\t\tthis.$router.back()\n\t\t},\n\t\tonSubmit(){\n\t\t\tvar title = ''\n\t\t\tif (this.rate === 1 || this.rate === 2) {\n\t\t\t\ttitle = '差评'\n\t\t\t}\n\t\t\tif (this.rate === 3 || this.rate === 4) {\n\t\t\t\ttitle = '中评'\n\t\t\t}\n\t\t\tif (this.rate === 5) {\n\t\t\t\ttitle = '好评'\n\t\t\t}\n\t\t\tif (this.rate === 0) {\n\t\t\t\tToast('请选择你的评分')\n\t\t\t\treturn \n\t\t\t}\n\t\t\tvar url = '/order/addComment?token='+this.$store.state.token\n\t\t\tvar data = {\n\t\t\t\tUserID : this.$store.state.userID,\n\t\t\t\tOrderNo : this.data.OrderNo,\n\t\t\t\tProductID : this.data.ProductID,\n\t\t\t\tTitle : title,\n\t\t\t\tContent : this.message\n\t\t\t}\n\t\t\tthis.axios.post(url,data).then((response)=>{\n\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\tToast('评论成功')\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t}, 1000);\n\t\t\t\t}\n\t\t\t}).catch((response)=>{\n\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t})\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.data = this.$store.state.commentData\n\t}\n\t\n}\n",{"version":3,"sources":["commentPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"commentPage.vue","sourceRoot":"src/pages/orderPage","sourcesContent":["<template>\n\t<div>\n\t\t<van-nav-bar\n\t\t\ttitle=\"发表评价\"\n\t\t\tright-text=\"提交\"\n\t\t\tleft-arrow\n\t\t\tfixed\n\t\t\t@click-left=\"goBack\"\n\t\t\t@click-right=\"onSubmit\"\n\t\t/>\n\t\t\n\t\t<van-card\n\t\t\t:num=\"data.Quantity\"\n\t\t\t:price=\"data.CurrentUnitPrice\"\n\t\t\t:title=\"data.ProductName\"\n\t\t\t:thumb=\"data.ProductImage\"\n\t\t\tcurrency=\"Block\"\n\t\t/>\n\t\t\n\t\t<van-row class=\"rate\">\n\t\t\t<van-col span=\"4\">评分</van-col>\n\t\t\t<van-col span=\"20\"><van-rate v-model=\"rate\"/></van-col>\n\t\t</van-row>\n\t\t\n\t\t<van-row class=\"comment\">\n\t\t\t<van-col span=\"24\">\n\t\t\t\t<van-field\n\t\t\t\t\tv-model=\"message\"\n\t\t\t\t\tlabel=\"留言\"\n\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\tplaceholder=\"宝贝满足你的期待吗?说说你的使用心得,分享给想买的他们吧\"\n\t\t\t\t\tlabel-width=\"3rem\"\n\t\t\t\t\tmaxlength=\"500\"\n\t\t\t\t\tautosize\n\t\t\t\t/>\n\t\t\t</van-col>\n\t\t</van-row>\n\t\t\n\t\t\n\t</div>\n</template>\n\n<script>\n\timport {NavBar,Rate,Image,Field,Card,Row,Col,Toast} from 'vant'\n\texport default{\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[Rate.name]:Rate,\n\t\t\t[Image.name]:Image,\n\t\t\t[Field.name]:Field,\n\t\t\t[Card.name]:Card,\n\t\t\t[Row.name]:Row,\n\t\t\t[Col.name]:Col,\n\t\t\t[Toast.name]:Toast\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tdata:'',\n\t\t\t\trate:0,\n\t\t\t\tmessage:''\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgoBack(){\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tonSubmit(){\n\t\t\t\tvar title = ''\n\t\t\t\tif (this.rate === 1 || this.rate === 2) {\n\t\t\t\t\ttitle = '差评'\n\t\t\t\t}\n\t\t\t\tif (this.rate === 3 || this.rate === 4) {\n\t\t\t\t\ttitle = '中评'\n\t\t\t\t}\n\t\t\t\tif (this.rate === 5) {\n\t\t\t\t\ttitle = '好评'\n\t\t\t\t}\n\t\t\t\tif (this.rate === 0) {\n\t\t\t\t\tToast('请选择你的评分')\n\t\t\t\t\treturn \n\t\t\t\t}\n\t\t\t\tvar url = '/order/addComment?token='+this.$store.state.token\n\t\t\t\tvar data = {\n\t\t\t\t\tUserID : this.$store.state.userID,\n\t\t\t\t\tOrderNo : this.data.OrderNo,\n\t\t\t\t\tProductID : this.data.ProductID,\n\t\t\t\t\tTitle : title,\n\t\t\t\t\tContent : this.message\n\t\t\t\t}\n\t\t\t\tthis.axios.post(url,data).then((response)=>{\n\t\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\t\tToast('评论成功')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tbeforeMount() {\n\t\t\tthis.data = this.$store.state.commentData\n\t\t}\n\t\t\n\t}\n</script>\n\n<style scoped>\n\t.van-nav-bar__arrow{\n\t\tfont-size: 1.5rem;\n\t\tcolor: #000000;\n\t}\n\t.van-nav-bar__text{\n\t\tcolor: #000000;\n\t}\n\t.van-card{\n\t\tmargin-top: 2.875rem;\n\t}\n\t.van-card__title{\n\t\ttext-align: left;\n\t}\n\t.van-card__price{\n\t\tfloat: left;\n\t}\n\t.rate{\n\t\tbackground: #fafafa;\n\t\tpadding: 0.625rem 0;\n\t}\n\t.rate .van-col:last-child{\n\t\ttext-align: left;\n\t}\n\t.comment{\n\t\ttext-align: left;\n\t}\n\t.comment .van-field{\n\t\tbackground: #fafafa;\n\t}\n\t\n</style>\n"]}]}