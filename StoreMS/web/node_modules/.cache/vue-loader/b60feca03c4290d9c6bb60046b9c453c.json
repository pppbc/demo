{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/mall.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/mall.vue","mtime":1569558892000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {NavBar,Toast,Button,Row,Col,Icon} from 'vant'\nimport {Images} from '../resources/index.js'\nimport myIntegral from '@/components/myIntegral.vue'\nimport swipe from '@/components/swipe.vue'\nimport goodsTabs from '@/components/goodsTabs.vue'\nexport default{\n\tinject:['reload'],\n\tcomponents:{\n\t\t[NavBar.name]:NavBar,\n\t\t[Toast.name]:Toast,\n\t\t[Button.name]:Button,\n\t\t[Row.name]:Row,\n\t\t[Col.name]:Col,\n\t\t[Icon.name]:Icon,\n\t\tmyIntegral,\n\t\tswipe,\n\t\tgoodsTabs\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tbg:Images.common.ic_header_bg,\n\t\t\tborder:false,\n\t\t\tgoods:[],\n\t\t\tcategory:[],\n\t\t\tcategoryIcon : Images.shop.ic_category_icon,\n\t\t\tcategoryAlls : [{\"ID\":0,\"ParentID\":0,\"Name\":\"全部商品\",\"Status\":0,\"SortOrder\":0,\"Detail\":\"\",\"CreateTime\":\"\",\"UpdateTime\":\"\"}],\n\t\t\tisonline:navigator.onLine,\n\t\t\tnoNetwork:Images.common.ic_no_network\n\t\t}\n\t},\n\tmethods:{\n\t\tgetCategory(){\n\t\t\tvar url = '/product/getCat'\n\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\tif (response.data.obj.length > 0) {\n\t\t\t\t\tthis.category = [...this.category,...response.data.obj]\n\t\t\t\t\tthis.categoryAll()\n\t\t\t\t}\n\t\t\t}).catch((response)=>{\n\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t})\n\t\t},\n\t\tcategoryAll(){\n\t\t\tthis.category.map((item,index)=>{\n\t\t\t\tthis.categoryAlls.push(item)\n\t\t\t})\n\t\t},\n\t\tnetApi(count,pid){\n\t\t\tif (pid === 0) {\n\t\t\t\tvar url = '/product/allList?page='+count\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif (response.data.status === 1 && response.data.obj.length > 0) {\n\t\t\t\t\t\tthis.$store.commit('requestMallcount2')\n\t\t\t\t\t\tthis.goods = [...this.goods,...response.data.obj]\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t})\n\t\t\t} else{\n\t\t\t\tvar url = '/product/getProductList?page='+count+'&category='+pid\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tthis.$store.commit('requestMallcount2')\n\t\t\t\t\tthis.goods = [...this.goods,...response.data.obj]\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tupdateOnlineStatus(e){\n\t\t\tconst {type} = e\n\t\t\tthis.isonline = type === 'online'\n\t\t},\n\t\tonRefresh(){\n\t\t\tthis.$store.commit('changeTabbarActive','mall')\n\t\t\tthis.$nextTick(()=>{\n\t\t\t\tthis.reload()\n\t\t\t})\n\t\t},\n\t\tgoCart(){\n\t\t\tthis.$store.commit('fromPage','mall')\n\t\t\tthis.$router.push('/cart')\n\t\t}\n\t},\n\tcomputed:{\n\t\tavatar(){\n\t\t\treturn this.$store.state.avatar\n\t\t},\n\t\tallActicities(){\n\t\t\treturn this.$store.state.allActicities.slice(0,5)\n\t\t},\n\t\tallBlock(){\n\t\t\treturn this.$store.getters.allBlock\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.getCategory()\n\t\tthis.netApi(this.$store.state.requestMallcount1,0)\n\t},\n\tmounted() {\n\t\twindow.addEventListener('online',this.updateOnlineStatus)\n\t\twindow.addEventListener('offline',this.updateOnlineStatus)\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('online',this.updateOnlineStatus)\n\t\twindow.removeEventListener('offline',this.updateOnlineStatus)\n\t},\n\twatch:{\n\t\tisonline(){\n\t\t\tthis.isonline = navigator.onLine\n\t\t}\n\t}\n}\n",{"version":3,"sources":["mall.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mall.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n\t<div id=\"mall\">\n\t\t<img class=\"bg\" :src=\"bg\" alt=\"\">\n\t\t<van-nav-bar \n\t\t\ttitle=\"商城\"\n\t\t\t:border=\"border\"\n\t\t\tfixed\n\t\t>\n\t\t\t<van-icon name=\"shopping-cart-o\" slot=\"right\" @click=\"goCart\"/>\n\t\t</van-nav-bar>\n\t\t\n\t\t<div v-if=\"isonline\">\n\t\t\t<my-integral :avatar=\"avatar\" :allBlock=\"allBlock\"></my-integral>\n\t\t\t\n\t\t\t<swipe :swipeItems=\"allActicities\"></swipe>\n\t\t\t\n\t\t\t<van-row>\n\t\t\t\t<van-col span=\"6\">\n\t\t\t\t\t<van-button class=\"btn1\">\n\t\t\t\t\t\t<div class=\"t1\">现在</div>\n\t\t\t\t\t\t<div class=\"t2\">可兑换商品</div>\n\t\t\t\t\t</van-button>\n\t\t\t\t</van-col>\n\t\t\t\t<van-col span=\"6\">\n\t\t\t\t\t<van-button class=\"btn2\">\n\t\t\t\t\t\t<div class=\"t1\">1个月后</div>\n\t\t\t\t\t\t<div class=\"t2\">可兑换商品</div>\n\t\t\t\t\t</van-button>\n\t\t\t\t</van-col>\n\t\t\t\t<van-col span=\"6\">\n\t\t\t\t\t<van-button class=\"btn3\">\n\t\t\t\t\t\t<div class=\"t1\">3个月后</div>\n\t\t\t\t\t\t<div class=\"t2\">可兑换商品</div>\n\t\t\t\t\t</van-button>\n\t\t\t\t</van-col>\n\t\t\t\t<van-col span=\"6\">\n\t\t\t\t\t<van-button class=\"btn4\">\n\t\t\t\t\t\t<div class=\"t1\">6个月后</div>\n\t\t\t\t\t\t<div class=\"t2\">可兑换商品</div>\n\t\t\t\t\t</van-button>\n\t\t\t\t</van-col>\n\t\t\t</van-row>\n\t\t\t\t\n\t\t\t<goods-tabs></goods-tabs>\n\t\t</div>\n\t\t<div v-else class=\"offline\">\n\t\t\t<div>\n\t\t\t\t<van-image :src=\"noNetwork\" />\n\t\t\t\t<van-button plain type=\"info\" @click=\"onRefresh\">点击刷新</van-button>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t\n\t</div>\n</template>\n\n<script>\n\timport {NavBar,Toast,Button,Row,Col,Icon} from 'vant'\n\timport {Images} from '../resources/index.js'\n\timport myIntegral from '@/components/myIntegral.vue'\n\timport swipe from '@/components/swipe.vue'\n\timport goodsTabs from '@/components/goodsTabs.vue'\n\texport default{\n\t\tinject:['reload'],\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[Toast.name]:Toast,\n\t\t\t[Button.name]:Button,\n\t\t\t[Row.name]:Row,\n\t\t\t[Col.name]:Col,\n\t\t\t[Icon.name]:Icon,\n\t\t\tmyIntegral,\n\t\t\tswipe,\n\t\t\tgoodsTabs\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tbg:Images.common.ic_header_bg,\n\t\t\t\tborder:false,\n\t\t\t\tgoods:[],\n\t\t\t\tcategory:[],\n\t\t\t\tcategoryIcon : Images.shop.ic_category_icon,\n\t\t\t\tcategoryAlls : [{\"ID\":0,\"ParentID\":0,\"Name\":\"全部商品\",\"Status\":0,\"SortOrder\":0,\"Detail\":\"\",\"CreateTime\":\"\",\"UpdateTime\":\"\"}],\n\t\t\t\tisonline:navigator.onLine,\n\t\t\t\tnoNetwork:Images.common.ic_no_network\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgetCategory(){\n\t\t\t\tvar url = '/product/getCat'\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif (response.data.obj.length > 0) {\n\t\t\t\t\t\tthis.category = [...this.category,...response.data.obj]\n\t\t\t\t\t\tthis.categoryAll()\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t})\n\t\t\t},\n\t\t\tcategoryAll(){\n\t\t\t\tthis.category.map((item,index)=>{\n\t\t\t\t\tthis.categoryAlls.push(item)\n\t\t\t\t})\n\t\t\t},\n\t\t\tnetApi(count,pid){\n\t\t\t\tif (pid === 0) {\n\t\t\t\t\tvar url = '/product/allList?page='+count\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.status === 1 && response.data.obj.length > 0) {\n\t\t\t\t\t\t\tthis.$store.commit('requestMallcount2')\n\t\t\t\t\t\t\tthis.goods = [...this.goods,...response.data.obj]\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t\t})\n\t\t\t\t} else{\n\t\t\t\t\tvar url = '/product/getProductList?page='+count+'&category='+pid\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tthis.$store.commit('requestMallcount2')\n\t\t\t\t\t\tthis.goods = [...this.goods,...response.data.obj]\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdateOnlineStatus(e){\n\t\t\t\tconst {type} = e\n\t\t\t\tthis.isonline = type === 'online'\n\t\t\t},\n\t\t\tonRefresh(){\n\t\t\t\tthis.$store.commit('changeTabbarActive','mall')\n\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\tthis.reload()\n\t\t\t\t})\n\t\t\t},\n\t\t\tgoCart(){\n\t\t\t\tthis.$store.commit('fromPage','mall')\n\t\t\t\tthis.$router.push('/cart')\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\tavatar(){\n\t\t\t\treturn this.$store.state.avatar\n\t\t\t},\n\t\t\tallActicities(){\n\t\t\t\treturn this.$store.state.allActicities.slice(0,5)\n\t\t\t},\n\t\t\tallBlock(){\n\t\t\t\treturn this.$store.getters.allBlock\n\t\t\t}\n\t\t},\n\t\tbeforeMount() {\n\t\t\tthis.getCategory()\n\t\t\tthis.netApi(this.$store.state.requestMallcount1,0)\n\t\t},\n\t\tmounted() {\n\t\t\twindow.addEventListener('online',this.updateOnlineStatus)\n\t\t\twindow.addEventListener('offline',this.updateOnlineStatus)\n\t\t},\n\t\tbeforeDestroy() {\n\t\t\twindow.removeEventListener('online',this.updateOnlineStatus)\n\t\t\twindow.removeEventListener('offline',this.updateOnlineStatus)\n\t\t},\n\t\twatch:{\n\t\t\tisonline(){\n\t\t\t\tthis.isonline = navigator.onLine\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.bg{\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 6.5rem;\n\t\tz-index: -1;\n\t}\n\t.van-nav-bar{\n\t\tbackground: url(../assets/Images/Home/header_bg.png);\n\t}\n\t.van-nav-bar__title{\n\t\tcolor: #fff;\n\t\tfont-size: 1.125rem;\n\t}\n\t.van-nav-bar .van-icon{\n\t\tcolor: #FFFFFF;\n\t\tfont-size: 1.5rem;\n\t}\n\t.van-row{\n\t\tmargin: 0.625rem 0.5rem 0;\n\t}\n\t\n\t.van-row .van-button{\n\t\tcolor: white;\n\t\theight: 2.75rem;\n\t\tline-height: 1.375rem;\n\t\tpadding: 0;\n\t\twidth: 100%;\n\t}\n\t.btn1{\n\t\tbackground: url(../assets/Images/Shop/time_1.png) no-repeat center;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.btn2{\n\t\tbackground: url(../assets/Images/Shop/time_2.png) no-repeat center;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.btn3{\n\t\tbackground: url(../assets/Images/Shop/time_3.png) no-repeat center;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.btn4{\n\t\tbackground: url(../assets/Images/Shop/time_4.png) no-repeat center;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.t1{\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tfont-size: 0.9375rem;\n\t}\n\t.t2{\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tfont-size: 0.625rem;\n\t}\n\t.offline{\n\t\twidth: 100%;\n\t\tmargin: 0 auto;\n\t}\n\t.offline div{\n\t\twidth: 50%;\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttop: 20%;\n\t}\n\t.offline .van-image{\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tposition: relative;\n\t\tleft: -50%;\n\t}\n\t.offline .van-button{\n\t\twidth: 6.25rem;\n\t\tposition: relative;\n\t\tleft: -50%;\n\t\tmargin-top: 0.625rem;\n\t}\n</style>\n"]}]}