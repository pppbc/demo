{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/retrievePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/retrievePassword.vue","mtime":1567955831000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {Images} from '@/resources/index.js'\nimport Util from '@/utils/Utils.js'\nimport {CellGroup,Field,Button,Toast,Row,Col,NavBar,Overlay,Loading} from 'vant'\nexport default{\n\tcomponents:{\n\t\t[CellGroup.name]:CellGroup,\n\t\t[Field.name]:Field,\n\t\t[Button.name]:Button,\n\t\t[Toast.name]:Toast,\n\t\t[Row.name]:Row,\n\t\t[Col.name]:Col,\n\t\t[NavBar.name]:NavBar,\n\t\t[Overlay.name]:Overlay,\n\t\t[Loading.name]:Loading\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tbg:{\n\t\t\t\tbackgroundImage:\"url(\"+Images.login.ic_bg+\")\",\n\t\t\t\tbackgroundRepeat:\"no-repeat\",\n\t\t\t\tbackgroundSize:\"100% 100%\",\n\t\t\t},\n\t\t\tusername:'',\n\t\t\tpassword1:'',\n\t\t\tpassword2:'',\n\t\t\tverificationCode:'',\n\t\t\taccount:Images.login.ic_account,\n\t\t\tlock:Images.login.ic_lock,\n\t\t\tisHidden:true,\n\t\t\tcodeText:'获取验证码',\n\t\t\tcode:'',\n\t\t\tloadingText:'修改中...',\n\t\t\tshow:false,\n\t\t\tcountDownTime:90,\n\t\t\tisSend:false,\n\t\t\tdisabled:false\n\t\t}\n\t},\n\tmethods:{\n\t\tshowPassword(){\n\t\t\tif (this.isHidden) {\n\t\t\t\tthis.isHidden = false\n\t\t\t\tthis.lock = Images.login.ic_unlock\n\t\t\t} else{\n\t\t\t\tthis.isHidden = true\n\t\t\t\tthis.lock = Images.login.ic_lock\n\t\t\t}\n\t\t},\n\t\tretrievePassword(){\n\t\t\tif (this.isPhonenum()) {\n\t\t\t\tif (this.isPasswordEmpty() && this.isPasswordEqual() && this.isPassword() && this.isVerificationCodeEqual()) {\n\t\t\t\t\tthis.show = true\n\t\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\t\tvar url = '/user/forgetPwd?phonenum='+this.username+'&newPwd='+this.password1\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.status == 1) {\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.loadingText = '修改成功'\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast('找回密码失败，请重试!')\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t},1000)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonClickLeft(){\n\t\t\tthis.$router.back()\n\t\t},\n\t\tsendVerification(){\n\t\t\tif (this.isPhonenum()) {\n\t\t\t\tthis.isSend = true\n\t\t\t\tthis.disabled = true\n\t\t\t\tthis.inputVerification()\n\t\t\t\tthis.timer = setInterval(()=>{\n\t\t\t\t\tif (this.countDownTime === 0) {\n\t\t\t\t\t\tthis.stopCountDown()\n\t\t\t\t\t\tthis.countDownTime = 90\n\t\t\t\t\t\tthis.isSend = false\n\t\t\t\t\t\tthis.disabled = false\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.codeText = `${this.countDownTime--}` + 's'\n\t\t\t\t\t}\n\t\t\t\t},1000)\n\t\t\t}\n\t\t},\n\t\tisPhonenum(){\n\t\t\tif (Util.isMobile(this.username)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tToast('请输入正确的手机号码')\n\t\t\treturn false\n\t\t},\n\t\tisPasswordEmpty(){\n\t\t\tif (this.password1 || this.password2) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tToast('密码不能为空')\n\t\t\treturn false\n\t\t},\n\t\tisPassword(){\n\t\t\tif (Util.isPassword(this.password1)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tToast('密码必须是6位以上的字母数字符号中任意两种或三种组合')\n\t\t\treturn false\n\t\t},\n\t\tisPasswordEqual(){\n\t\t\tif (this.password1 === this.password2) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tToast('两次输入的密码不一致')\n\t\t\treturn false\n\t\t},\n\t\tisVerificationCodeEqual(){\n\t\t\tif (this.verificationCode === this.code) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tToast('请输入正确的验证码')\n\t\t\treturn false\n\t\t},\n\t\tinputVerification(){\n\t\t\tthis.axios.get('http://94.191.12.62:8090/supply/sendMes?phone='+this.username).then((response)=>{\n\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\tthis.code = response.data.code\n\t\t\t\t} else{\n\t\t\t\t\tToast('网络请求超时，请稍候再试！')\n\t\t\t\t}\n\t\t\t}).catch((response)=>{\n\t\t\t\tToast(\"网络请求出错，请稍候再试！\")\n\t\t\t})\n\t\t},\n\t\tstopCountDown(){\n\t\t\tclearInterval(this.timer)\n\t\t}\n\t},\n\twatch:{\n\t\t\n\t}\n}\n",{"version":3,"sources":["retrievePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"retrievePassword.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n\t<div id=\"retrievePassword\" :style=\"bg\">\n\t\t<van-nav-bar\n\t\t\tleft-arrow\n\t\t\t@click-left=\"onClickLeft\"\n\t\t/>\n\t\t<div class=\"content\">\n\t\t\t<div class=\"logo\">\n\t\t\t\t<img src=\"../assets/Images/Login/logo.png\" alt=\"logo\">\n\t\t\t</div>\n\t\t\t<van-cell-group>\n\t\t\t\t<van-field \n\t\t\t\t\tv-model=\"username\"\n\t\t\t\t\t:right-icon=\"account\"\n\t\t\t\t\tplaceholder=\"请输入手机号\"\n\t\t\t\t/>\n\t\t\t\t<van-row class=\"code-style\">\n\t\t\t\t\t<van-col span=\"11\" offset=\"1\">\n\t\t\t\t\t\t<van-field \n\t\t\t\t\t\t\tinput-align=\"center\"\n\t\t\t\t\t\t\tplaceholder=\"输入验证码\"\n\t\t\t\t\t\t\tv-model=\"code\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</van-col>\n\t\t\t\t\t<van-col span=\"10\" offset=\"2\">\n\t\t\t\t\t\t<van-button type=\"danger\" :text=\"codeText\" :disabled=\"disabled\" @click=\"sendVerification\"></van-button>\n\t\t\t\t\t</van-col>\n\t\t\t\t</van-row>\n\t\t\t\t<van-field \n\t\t\t\t\tv-model=\"password1\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t:right-icon=\"lock\"\n\t\t\t\t\tplaceholder=\"请输入密码\"\n\t\t\t\t\t@click-right-icon=\"showPassword\"\n\t\t\t\t\tmaxlength=\"16\"\n\t\t\t\t/>\n\t\t\t\t<van-field\n\t\t\t\t\tv-model=\"password2\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t:right-icon=\"lock\"\n\t\t\t\t\tplaceholder=\"请确认密码\"\n\t\t\t\t\t@click-right-icon=\"showPassword\"\n\t\t\t\t\tmaxlength=\"16\"\n\t\t\t\t/>\n\t\t\t\t<van-button type=\"danger\" size=\"large\" text=\"确 定\" @click=\"retrievePassword\"></van-button>\n\t\t\t</van-cell-group>\n\t\t</div>\n\t\t<van-overlay :show=\"show\" class-name=\"overlay\" />\n\t\t<van-loading v-if=\"show\" vertical>{{loadingText}}</van-loading>\n\t</div>\n</template>\n\n<script>\n\timport {Images} from '@/resources/index.js'\n\timport Util from '@/utils/Utils.js'\n\timport {CellGroup,Field,Button,Toast,Row,Col,NavBar,Overlay,Loading} from 'vant'\n\texport default{\n\t\tcomponents:{\n\t\t\t[CellGroup.name]:CellGroup,\n\t\t\t[Field.name]:Field,\n\t\t\t[Button.name]:Button,\n\t\t\t[Toast.name]:Toast,\n\t\t\t[Row.name]:Row,\n\t\t\t[Col.name]:Col,\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[Overlay.name]:Overlay,\n\t\t\t[Loading.name]:Loading\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tbg:{\n\t\t\t\t\tbackgroundImage:\"url(\"+Images.login.ic_bg+\")\",\n\t\t\t\t\tbackgroundRepeat:\"no-repeat\",\n\t\t\t\t\tbackgroundSize:\"100% 100%\",\n\t\t\t\t},\n\t\t\t\tusername:'',\n\t\t\t\tpassword1:'',\n\t\t\t\tpassword2:'',\n\t\t\t\tverificationCode:'',\n\t\t\t\taccount:Images.login.ic_account,\n\t\t\t\tlock:Images.login.ic_lock,\n\t\t\t\tisHidden:true,\n\t\t\t\tcodeText:'获取验证码',\n\t\t\t\tcode:'',\n\t\t\t\tloadingText:'修改中...',\n\t\t\t\tshow:false,\n\t\t\t\tcountDownTime:90,\n\t\t\t\tisSend:false,\n\t\t\t\tdisabled:false\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tshowPassword(){\n\t\t\t\tif (this.isHidden) {\n\t\t\t\t\tthis.isHidden = false\n\t\t\t\t\tthis.lock = Images.login.ic_unlock\n\t\t\t\t} else{\n\t\t\t\t\tthis.isHidden = true\n\t\t\t\t\tthis.lock = Images.login.ic_lock\n\t\t\t\t}\n\t\t\t},\n\t\t\tretrievePassword(){\n\t\t\t\tif (this.isPhonenum()) {\n\t\t\t\t\tif (this.isPasswordEmpty() && this.isPasswordEqual() && this.isPassword() && this.isVerificationCodeEqual()) {\n\t\t\t\t\t\tthis.show = true\n\t\t\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\t\t\tvar url = '/user/forgetPwd?phonenum='+this.username+'&newPwd='+this.password1\n\t\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\t\tif (response.data.status == 1) {\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.loadingText = '修改成功'\n\t\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tToast('找回密码失败，请重试!')\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tonClickLeft(){\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tsendVerification(){\n\t\t\t\tif (this.isPhonenum()) {\n\t\t\t\t\tthis.isSend = true\n\t\t\t\t\tthis.disabled = true\n\t\t\t\t\tthis.inputVerification()\n\t\t\t\t\tthis.timer = setInterval(()=>{\n\t\t\t\t\t\tif (this.countDownTime === 0) {\n\t\t\t\t\t\t\tthis.stopCountDown()\n\t\t\t\t\t\t\tthis.countDownTime = 90\n\t\t\t\t\t\t\tthis.isSend = false\n\t\t\t\t\t\t\tthis.disabled = false\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.codeText = `${this.countDownTime--}` + 's'\n\t\t\t\t\t\t}\n\t\t\t\t\t},1000)\n\t\t\t\t}\n\t\t\t},\n\t\t\tisPhonenum(){\n\t\t\t\tif (Util.isMobile(this.username)) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\tToast('请输入正确的手机号码')\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tisPasswordEmpty(){\n\t\t\t\tif (this.password1 || this.password2) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\tToast('密码不能为空')\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tisPassword(){\n\t\t\t\tif (Util.isPassword(this.password1)) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\tToast('密码必须是6位以上的字母数字符号中任意两种或三种组合')\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tisPasswordEqual(){\n\t\t\t\tif (this.password1 === this.password2) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\tToast('两次输入的密码不一致')\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tisVerificationCodeEqual(){\n\t\t\t\tif (this.verificationCode === this.code) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\tToast('请输入正确的验证码')\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tinputVerification(){\n\t\t\t\tthis.axios.get('http://94.191.12.62:8090/supply/sendMes?phone='+this.username).then((response)=>{\n\t\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\t\tthis.code = response.data.code\n\t\t\t\t\t} else{\n\t\t\t\t\t\tToast('网络请求超时，请稍候再试！')\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast(\"网络请求出错，请稍候再试！\")\n\t\t\t\t})\n\t\t\t},\n\t\t\tstopCountDown(){\n\t\t\t\tclearInterval(this.timer)\n\t\t\t}\n\t\t},\n\t\twatch:{\n\t\t\t\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t#retrievePassword{\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: fixed;\n\t}\n\t.van-nav-bar{\n\t\tposition: absolute;\n\t\tbackground: rgba(0,0,0,0);\n\t}\n\t.van-nav-bar__arrow{\n\t\tcolor: #fff;\n\t\tfont-size: 1.5rem;\n\t}\n\t.content{\n\t\twidth: 80%;\n\t\theight: 23rem;\n\t\tbackground: #fff;\n\t\tborder-radius: 10px;\n\t\tmargin: 8.75rem auto 0;\n\t}\n\t.logo{\n\t\twidth: 3.125rem;\n\t\tmargin: 0 auto;\n\t}\n\t.logo img{\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tmargin-top: 1.9375rem;\n\t\tmargin-bottom: 3rem;\n\t}\n\t.van-cell-group{\n\t\tmargin: 0 1.875rem;\n\t}\n\t.van-button{\n\t\tmargin-top: 1.25rem;\n\t\tfont-size: 1.125rem;\n\t\theight: 2.5rem;\n\t\tline-height: 2.5rem;\n\t}\n\t.code-style{\n\t\tmargin-top: 0.8rem;\n\t\tmargin-bottom: 0.8rem;\n\t}\n\t.code-style .van-field{\n\t\tborder: 1px solid #FF0000;\n\t\tborder-radius: 0.25rem;\n\t\theight: 2.5rem;\n\t\tmargin: 0;\n\t}\n\t.code-style .van-button{\n\t\tfont-size: 0.75rem;\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t}\n\t.overlay{\n\t\tbackground-color: rgba(0,0,0,0);\n\t}\n</style>\n"]}]}