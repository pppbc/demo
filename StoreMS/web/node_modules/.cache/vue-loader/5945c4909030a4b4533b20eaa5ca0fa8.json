{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/setting/tradingPassword.vue?vue&type=style&index=0&id=c368dc6e&scoped=true&lang=css&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/setting/tradingPassword.vue","mtime":1569494757000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.van-nav-bar__arrow{\n\tcolor: black;\n\tfont-size: 1.2rem;\n}\n.overlay{\n\tbackground-color: rgba(0,0,0,0);\n}\n",{"version":3,"sources":["tradingPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+PA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tradingPassword.vue","sourceRoot":"src/pages/setting","sourcesContent":["<template>\n\t<div>\n\t\t<van-nav-bar\n\t\t\ttitle=\"支付密码\"\n\t\t\tleft-arrow\n\t\t\t@click-left=\"goBack\"\n\t\t/>\n\t\t\n\t\t<div v-if=\"isFirst\">\n\t\t\t<div v-if=\"setText1 === '设置新的支付密码'\">\n\t\t\t\t<p style=\"font-size: 0.75rem; opacity: 0.7;text-align: center;\">设置新的支付密码</p>\n\t\t\t\t<van-password-input\n\t\t\t\t\t:value=\"password1\"\n\t\t\t\t\t:focused=\"showKeyboard\"\n\t\t\t\t\t@focus=\"showKeyboard = true\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\t<p style=\"font-size: 0.75rem; opacity: 0.7;text-align: center;\">确认新的支付密码</p>\n\t\t\t\t<van-password-input\n\t\t\t\t\t:value=\"password2\"\n\t\t\t\t\t:focused=\"showKeyboard\"\n\t\t\t\t\t@focus=\"showKeyboard = true\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else>\n\t\t\t<div v-if=\"setText2 === '输入当前支付密码'\">\n\t\t\t\t<p style=\"font-size: 0.75rem; opacity: 0.7;text-align: center;\">输入当前支付密码</p>\n\t\t\t\t<van-password-input\n\t\t\t\t\t:value=\"password1\"\n\t\t\t\t\t:focused=\"showKeyboard\"\n\t\t\t\t\t@focus=\"showKeyboard = true\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div v-else-if=\"setText2 === '输入新的支付密码'\">\n\t\t\t\t<p style=\"font-size: 0.75rem; opacity: 0.7;text-align: center;\">输入新的支付密码</p>\n\t\t\t\t<van-password-input\n\t\t\t\t\t:value=\"password2\"\n\t\t\t\t\t:focused=\"showKeyboard\"\n\t\t\t\t\t@focus=\"showKeyboard = true\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\t<p style=\"font-size: 0.75rem; opacity: 0.7;text-align: center;\">确认新的支付密码</p>\n\t\t\t\t<van-password-input\n\t\t\t\t\t:value=\"password3\"\n\t\t\t\t\t:focused=\"showKeyboard\"\n\t\t\t\t\t@focus=\"showKeyboard = true\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t\t<van-number-keyboard\n\t\t\t:show=\"showKeyboard\"\n\t\t\ttheme=\"custom\"\n\t\t\tclose-button-text=\"完成\"\n\t\t\t@input=\"onInput\"\n\t\t\t@delete=\"onDelete\"\n\t\t\t@close=\"onSubmit\"\n\t\t/>\n\t\t\n\t\t\n\t\t<van-overlay :show=\"show\" class-name=\"overlay\" />\n\t\t<van-loading v-if=\"show\" vertical>{{loadingText}}</van-loading>\n\t</div>\n</template>\n\n<script>\n\timport {NavBar,PasswordInput,NumberKeyboard,Button,Toast,Overlay,Loading} from 'vant'\n\texport default{\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[PasswordInput.name]:PasswordInput,\n\t\t\t[NumberKeyboard.name]:NumberKeyboard,\n\t\t\t[Button.name]:Button,\n\t\t\t[Toast.name]:Toast,\n\t\t\t[Overlay.name]:Overlay,\n\t\t\t[Loading.name]:Loading\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tshow:false,\n\t\t\t\tloadingText:'修改中...',\n\t\t\t\tisFirst:false,\n\t\t\t\tsetText1:'输入支付密码',\n\t\t\t\tsetText2:'输入原支付密码',\n\t\t\t\tpassword1:'',\n\t\t\t\tpassword2:'',\n\t\t\t\tpassword3:'',\n\t\t\t\tshowKeyboard:true,\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgoBack(){\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tjudgePaymentPW(){\n\t\t\t\tvar url = '/user/getpaypwd?user_id='+this.$store.state.userID+'&token='+this.$store.state.token\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\t\tthis.isFirst = false\n\t\t\t\t\t\tthis.setText2 = '输入当前支付密码'\n\t\t\t\t\t} else{\n\t\t\t\t\t\tthis.isFirst = true\n\t\t\t\t\t\tthis.setText1 = '设置新的支付密码'\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t})\n\t\t\t},\n\t\t\tonInput(key){\n\t\t\t\tif (this.setText1 === '设置新的支付密码') {\n\t\t\t\t\tthis.password1 = (this.password1 + key).slice(0,6)\n\t\t\t\t\tif (this.password1.length === 6) {\n\t\t\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\t\t\tthis.setText1 = '确认新的支付密码'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} \n\t\t\t\tif (this.setText1 === '确认新的支付密码') {\n\t\t\t\t\tthis.password2 = (this.password2 + key).slice(0,6)\n\t\t\t\t}\n\t\t\t\tif (this.setText2 === '输入当前支付密码') {\n\t\t\t\t\tthis.password1 = (this.password1 + key).slice(0,6)\n\t\t\t\t\tif (this.password1.length === 6) {\n\t\t\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\t\t\tthis.setText2 = '输入新的支付密码'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.setText2 === '输入新的支付密码') {\n\t\t\t\t\tthis.password2 = (this.password2 + key).slice(0,6)\n\t\t\t\t\tif (this.password2.length === 6) {\n\t\t\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\t\t\tthis.setText2 = '确认新的支付密码'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.setText2 === '确认新的支付密码') {\n\t\t\t\t\tthis.password3 = (this.password3 + key).slice(0,6)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDelete(){\n\t\t\t\tif (this.setText1 === '设置新的支付密码') {\n\t\t\t\t\tthis.password1 = this.password1.slice(0,this.password1.length - 1)\n\t\t\t\t} \n\t\t\t\tif (this.setText1 === '确认新的支付密码') {\n\t\t\t\t\tthis.password2 = this.password2.slice(0,this.password2.length - 1)\n\t\t\t\t}\n\t\t\t\tif (this.setText2 === '输入当前支付密码') {\n\t\t\t\t\tthis.password1 = this.password1.slice(0,this.password1.length - 1)\n\t\t\t\t}\n\t\t\t\tif (this.setText2 === '输入新的支付密码') {\n\t\t\t\t\tthis.password2 = this.password2.slice(0,this.password2.length - 1)\n\t\t\t\t}\n\t\t\t\tif (this.setText2 === '确认新的支付密码') {\n\t\t\t\t\tthis.password3 = this.password3.slice(0,this.password3.length - 1)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonSubmit(){\n\t\t\t\tif (this.setText1 === '确认新的支付密码') {\n\t\t\t\t\tif (this.checkPwd()) {\n\t\t\t\t\t\tthis.show = true\n\t\t\t\t\t\tthis.loadingText = '正在设置...'\n\t\t\t\t\t\tvar url = '/user/setpaypwd?user_id='+this.$store.state.userID+'&password='+this.password2+'&token='+this.$store.state.token\n\t\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.loadingText = '设置成功'\n\t\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tToast('密码修改失败，请重试')\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.setText2 === '确认新的支付密码') {\n\t\t\t\t\tif (this.checkPwd()) {\n\t\t\t\t\t\tthis.show = true\n\t\t\t\t\t\tthis.loadingText = '修改中...'\n\t\t\t\t\t\tvar url = '/user/updatepaypwd?user_id='+this.$store.state.userID+'&oldPwd='+this.password1+'&newPwd='+this.password3+'&token='+this.$store.state.token\n\t\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.loadingText = '修改成功'\n\t\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t\t\tthis.$router.back()\n\t\t\t\t\t\t\t\t\t},500)\n\t\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tToast('密码修改失败，请重试')\n\t\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tToast('网络请求出错，请稍候再试!')\n\t\t\t\t\t\t\t\tthis.show = false\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckPwd(){\n\t\t\t\tif (this.setText1 === '确认新的支付密码') {\n\t\t\t\t\tif(this.password1 !== this.password2){\n\t\t\t\t\t\tToast('新密码不一致')\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\treturn true\n\t\t\t\t} \n\t\t\t\tif (this.setText2 === '确认新的支付密码') {\n\t\t\t\t\tif (this.password2 !== this.password3) {\n\t\t\t\t\t\tToast('新密码不一致')\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\tif (this.password1 === this.password3) {\n\t\t\t\t\t\tToast('新密码与原密码不能相同')\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tbeforeMount() {\n\t\t\tthis.judgePaymentPW()\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.van-nav-bar__arrow{\n\t\tcolor: black;\n\t\tfont-size: 1.2rem;\n\t}\n\t.overlay{\n\t\tbackground-color: rgba(0,0,0,0);\n\t}\n</style>\n"]}]}