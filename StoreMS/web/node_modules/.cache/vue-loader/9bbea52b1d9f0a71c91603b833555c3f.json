{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/components/goodsTabs.vue?vue&type=style&index=0&id=56c85214&scoped=true&lang=css&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/components/goodsTabs.vue","mtime":1568897092000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.van-tab{\n\tpadding: 0;\n}\n",{"version":3,"sources":["goodsTabs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA","file":"goodsTabs.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<van-tabs v-model=\"active\" color=\"#ff0000\" title-active-color=\"#ff0000\" @change=\"tabChange\" swipeable animated sticky :offset-top=\"offsetTop\">\n\t\t<van-tab v-for=\"(item,index) in tabs\" :key=\"index\" :title=\"item.Name\">\n\t\t\t<van-list\n\t\t\t\tv-model=\"loading\"\n\t\t\t\t:finished=\"finished\"\n\t\t\t\tfinished-text=\"没有更多了\"\n\t\t\t\t@load=\"onLoad\"\n\t\t\t>\n\t\t\t\t<double-card :colSpan=\"colSpan\" :doubleCardItems=\"goods\" fromPage=\"mall\"></double-card>\n\t\t\t</van-list>\n\t\t</van-tab>\n\t</van-tabs>\n</template>\n\n<script>\n\timport {Tab,Tabs,List,Toast} from 'vant'\n\timport doubleCard from '@/components/double-card.vue'\n\texport default{\n\t\tcomponents:{\n\t\t\t[Tab.name]:Tab,\n\t\t\t[Tabs.name]:Tabs,\n\t\t\t[List.name]:List,\n\t\t\t[Toast.name]:Toast,\n\t\t\tdoubleCard\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tactive:0,\n\t\t\t\ttabs:[{\n\t\t\t\t\tID:0,\n\t\t\t\t\tParentID:0,\n\t\t\t\t\tName:'全部商品',\n\t\t\t\t\tStatus:0,\n\t\t\t\t\tSortOrder:0,\n\t\t\t\t\tDetail:'',\n\t\t\t\t\tCreateTime:'',\n\t\t\t\t\tUpdateTime:''\n\t\t\t\t}],\n\t\t\t\tcolSpan:12,\n\t\t\t\tgoods:[],\n\t\t\t\tloading:false,\n\t\t\t\tfinished:false,\n\t\t\t\toffsetTop:46\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\ttabChange(name){\n\t\t\t\tthis.loading = false,\n\t\t\t\tthis.finished = false\n\t\t\t\tthis.goods = []\n\t\t\t\tthis.$store.commit('requestMallcount',0)\n\t\t\t\tvar pid = this.tabs[name].ID\n\t\t\t\tthis.getGoods(this.$store.state.requestMallcount,pid)\n\t\t\t},\n\t\t\tgetGoods(count,pid){\n\t\t\t\tif (pid === 0) {\n\t\t\t\t\tvar url = '/product/allList?page='+count\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\t\t\tif (response.data.obj.length > 0) {\n\t\t\t\t\t\t\t\tthis.$store.commit('requestMallcount',1)\n\t\t\t\t\t\t\t\tthis.goods = [...this.goods,...response.data.obj]\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tthis.finished = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t\t})\n\t\t\t\t} else{\n\t\t\t\t\tvar url = '/product/getProductList?page='+count+'&category='+pid\n\t\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\t\t\tif (response.data.obj.length > 0) {\n\t\t\t\t\t\t\t\tthis.$store.commit('requestMallcount',1)\n\t\t\t\t\t\t\t\tthis.goods = [...this.goods,...response.data.obj]\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tthis.finished = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response)=>{\n\t\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetCategory(){\n\t\t\t\tvar url = '/product/getCat'\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\t// console.log(response)\n\t\t\t\t\tif (response.data.status === 1 && response.data.obj.length > 0) {\n\t\t\t\t\t\tthis.tabs = [...this.tabs,...response.data.obj]\n\t\t\t\t\t} else{\n\t\t\t\t\t\tToast(\"数据请求出错，请重试\")\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast(\"网络请求出错，请重试\")\n\t\t\t\t})\n\t\t\t},\n\t\t\tonLoad(){\n\t\t\t\tvar pid = this.tabs[this.active].ID\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.getGoods(this.$store.state.requestMallcount,pid)\n\t\t\t\t\tthis.loading = false\n\t\t\t\t},500)\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getCategory()\n\t\t\tthis.$store.commit('requestMallcount',0)\n\t\t\tthis.getGoods(this.$store.state.requestMallcount,this.active)\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.van-tab{\n\t\tpadding: 0;\n\t}\n</style>\n"]}]}