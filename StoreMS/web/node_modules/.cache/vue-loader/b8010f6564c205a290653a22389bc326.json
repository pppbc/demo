{"remainingRequest":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/student02/Desktop/youduitong1/src/pages/goodsDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/student02/Desktop/youduitong1/src/pages/goodsDetail.vue","mtime":1571129798000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/student02/Desktop/youduitong1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {NavBar,Icon,Row,Col,Button,Image,CellGroup,Cell,GoodsAction,GoodsActionIcon,GoodsActionButton,Stepper,Toast} from 'vant'\nimport {Images} from '@/resources/index.js'\nexport default{\n\tcomponents:{\n\t\t[NavBar.name]:NavBar,\n\t\t[Icon.name]:Icon,\n\t\t[Row.name]:Row,\n\t\t[Col.name]:Col,\n\t\t[Button.name]:Button,\n\t\t[Image.name]:Image,\n\t\t[CellGroup.name]:CellGroup,\n\t\t[Cell.name]:Cell,\n\t\t[GoodsAction.name]:GoodsAction,\n\t\t[GoodsActionIcon.name]:GoodsActionIcon,\n\t\t[GoodsActionButton.name]:GoodsActionButton,\n\t\t[Stepper.name]:Stepper,\n\t\t[Toast.name]:Toast\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tbackImg:Images.shop.ic_back,\n\t\t\tgoodsDetail:'',\n\t\t\tshowTab:false,\n\t\t\ticon:Images.shop.ic_item,\n\t\t\tgoodsNum:1,\n\t\t\tcomments:0,\n\t\t\tallComments:[],\n\t\t\tupArrow:Images.common.ic_up_arrow,\n\t\t}\n\t},\n\tmethods:{\n\t\tgoBack(){\n\t\t\tthis.$store.commit('changeTabbarActive',this.$store.state.fromPage)\n\t\t\tthis.$router.back()\n\t\t},\n\t\tgetAllComments(count){\n\t\t\tvar url = '/order/getProductComment?product_id='+this.goodsDetail.ID+'&page='+count\n\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\tthis.$store.commit(\"allComments\",response.data.obj)\n\t\t\t\t\tthis.allComments = response.data.obj\n\t\t\t\t} \n\t\t\t}).catch((response)=>{\n\t\t\t\tToast(\"网络请求出错\")\n\t\t\t})\n\t\t},\n\t\tonCartClick(){\n\t\t\tthis.$router.push('/cart')\n\t\t},\n\t\tonAddToCart(){\n\t\t\tvar url = '/cart/add?user_id='+this.$store.state.userID+'&product_id='+this.goodsDetail.ID+'&quantity='+this.goodsNum+'&token='+this.$store.state.token\n\t\t\t// var data = {\n\t\t\t// \tuser_id:this.$store.state.userID,\n\t\t\t// \tProductID:this.goodsDetail.ID,\n\t\t\t// \tQuantity:this.goodsNum,\n\t\t\t// \tChecked:true\n\t\t\t// }\n\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\tthis.updateCartScreen()\n\t\t\t\t\tToast(\"添加成功\")\n\t\t\t\t} else{\n\t\t\t\t\tToast(\"添加失败，请重试\")\n\t\t\t\t}\n\t\t\t}).catch((response)=>{\n\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t})\n\t\t},\n\t\tonBuyClick(){\n\t\t\tvar data = {\n\t\t\t\tMainImage:this.goodsDetail.MainImage,\n\t\t\t\tName:this.goodsDetail.Name,\n\t\t\t\tgoodsNum:this.goodsNum,\n\t\t\t\tPrice:this.goodsDetail.Price,\n\t\t\t\tgoodsID:this.goodsDetail.ID,\n\t\t\t\tStock:this.goodsDetail.Stock\n\t\t\t}\n\t\t\tthis.$store.commit('confirmOrder',data)\n\t\t\tthis.$router.push('/confirmOrder')\n\t\t},\n\t\thandleScroll(){\n\t\t\tvar scrollY = document.documentElement.scrollTop || document.body.scrollTop\n\t\t\tif (scrollY > 200) {\n\t\t\t\tthis.showTab = true\n\t\t\t} else{\n\t\t\t\tthis.showTab = false\n\t\t\t}\n\t\t},\n\t\tscrollTop(){\n\t\t\tvar top = document.documentElement.scrollTop || document.body.scrollTop\n\t\t\tconst timeTop = setInterval(()=>{\n\t\t\t\tdocument.body.scrollTop = document.documentElement.scrollTop = top -= 50\n\t\t\t\tif (top <= 0) {\n\t\t\t\t\tclearInterval(timeTop)\n\t\t\t\t}\n\t\t\t},10)\n\t\t},\n\t\tupdateCartScreen(){\n\t\t\tvar goodsID = this.goodsDetail.ID\n\t\t\tvar index = 0\n\t\t\tif (this.$store.state.allDatas.data) {\n\t\t\t\tindex = this.$store.state.allDatas.data.findIndex((item)=>{\n\t\t\t\t\treturn item.ProductID === goodsID\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (index === -1) {\n\t\t\t\tthis.$store.commit({type:'addToCart1',data:this.goodsDetail,num:this.goodsNum})\n\t\t\t}else{\n\t\t\t\tthis.$store.commit({type:'addToCart2',index:index,num:this.goodsNum})\n\t\t\t}\n\t\t},\n\t\tgoComments(){\n\t\t\tthis.$router.push('/allComments/'+this.goodsDetail.ID)\n\t\t},\n\t\tgoPos(index){\n\t\t\tswitch (index){\n\t\t\t\tcase 1:\n\t\t\t\t\twindow.scrollTo(0,this.$refs.pos1.offsetTop)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\twindow.scrollTo(0,this.$refs.pos2.offsetTop - 25)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\twindow.scrollTo(0,this.$refs.pos3.offsetTop - 25)\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tonClickChat(){\n\t\t\tconsole.log('通过商家客服id进入聊天界面')\n\t\t}\n\t},\n\tcomputed:{\n\t\ttotalPrice(){\n\t\t\tvar total = this.goodsDetail.Price * this.goodsNum\n\t\t\ttotal = parseFloat(total)\n\t\t\ttotal = total.toFixed(2)\n\t\t\ttotal = total.toLocaleString()\n\t\t\treturn total+\" Block\"\n\t\t},\n\t\tusername(){\n\t\t\treturn this.allComments[0].UserName.replace(this.allComments[0].UserName.substring(3,7),\"****\")\n\t\t},\n\t\tsubImages(){\n\t\t\treturn this.goodsDetail.SubImages ? JSON.parse(this.goodsDetail.SubImages) : []\n\t\t},\n\t\tcartInfo(){\n\t\t\treturn this.$store.state.allDatas.data.length\n\t\t}\n\t},\n\twatch:{\n\t\tgoodsNum(){\n\t\t\tthis.goodsNum = this.goodsNum <= this.goodsDetail.Stock ? this.goodsNum : this.goodsDetail.Stock\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.goodsDetail = this.$store.state.goodsDetail\n\t\tthis.$store.commit(\"requestAllCommentsCount\",0)\n\t\tthis.getAllComments(this.$store.state.requestAllCommentsCount)\n\t},\n\tmounted(){\n\t\twindow.addEventListener('scroll',this.handleScroll)\n\t}\n}\n",{"version":3,"sources":["goodsDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"goodsDetail.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n\t<div id=\"detail\">\n\t\t\n\t\t<van-nav-bar v-show=\"!showTab\" :border=\"false\" @click-left=\"goBack\" fixed>\n\t\t\t<van-icon class=\"backBtn\" :name=\"backImg\" slot=\"left\" />\n\t\t</van-nav-bar>\n\t\t\n\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t<van-row v-show=\"showTab\"  class=\"hidetab\">\n\t\t\t\t<van-col span=\"4\">\n\t\t\t\t\t<van-icon name=\"arrow-left\" size=\"1.5rem\" @click=\"goBack\"/>\n\t\t\t\t</van-col>\n\t\t\t\t<van-col span=\"16\">\n\t\t\t\t\t<van-button @click=\"goPos(1)\">商品</van-button>\n\t\t\t\t\t<van-button @click=\"goPos(2)\">评价</van-button>\n\t\t\t\t\t<van-button @click=\"goPos(3)\">详情</van-button>\n\t\t\t\t</van-col>\n\t\t\t</van-row>\n\t\t</transition>\n\t\t\n\t\t<div class=\"container\" ref=\"pos1\">\n\t\t\t<van-row>\n\t\t\t\t<van-col span=\"24\">\n\t\t\t\t\t<img class=\"mainImg\" :src=\"goodsDetail.MainImage\">\n\t\t\t\t</van-col>\n\t\t\t</van-row>\n\t\t\t<van-row class=\"price\">\n\t\t\t\t<van-col span=\"24\"><span>{{goodsDetail.Price}}</span>Block</van-col>\n\t\t\t</van-row>\n\t\t\t<van-row class=\"title\">\n\t\t\t\t<van-col span=\"24\">{{goodsDetail.Name}}</van-col>\n\t\t\t</van-row>\n\t\t\t<van-row class=\"desc\">\n\t\t\t\t<van-col span=\"24\">{{goodsDetail.Description}}</van-col>\n\t\t\t</van-row>\n\t\t\t<van-row class=\"icon\">\n\t\t\t\t<van-col span=\"24\">\n\t\t\t\t\t<van-icon :name=\"icon\"/><span>全场包邮</span>\n\t\t\t\t\t<van-icon :name=\"icon\"/><span>7天退换</span>\n\t\t\t\t\t<van-icon :name=\"icon\"/><span>假一赔十</span>\n\t\t\t\t</van-col>\n\t\t\t</van-row>\n\t\t\t<van-cell-group class=\"inventory\">\n\t\t\t\t<van-cell title=\"商品剩余数量:\" :value=\"goodsDetail.Stock\" value-class=\"stockValue\"/>\n\t\t\t</van-cell-group>\n\t\t\t<van-row class=\"quantity\">\n\t\t\t\t<van-col span=\"12\">购买数量：</van-col>\n\t\t\t\t<van-col span=\"12\">\n\t\t\t\t\t<van-stepper v-model=\"goodsNum\" :max=\"goodsDetail.Stock\" integer/>\n\t\t\t\t</van-col>\n\t\t\t</van-row>\n\t\t\t<van-cell-group class=\"totalPrice\">\n\t\t\t\t<van-cell title=\"总价格:\" :value=\"totalPrice\" value-class=\"stockValue\"/>\n\t\t\t</van-cell-group>\n\t\t\t<van-cell-group class=\"commits\" ref=\"pos2\">\n\t\t\t\t<van-cell :title=\"`商品评价(${comments})`\" value=\"查看全部\" is-link @click=\"goComments\"/>\n\t\t\t\t<van-cell class=\"com1\" v-if=\"allComments.length > 0\" :title=\"username\" :value=\"allComments[0].Title\" :label=\"allComments[0].Content\"/>\n\t\t\t\t<van-cell class=\"com2\" v-else title=\"该商品还没有相关评论\" />\n\t\t\t</van-cell-group>\n\t\t\t<span id=\"gd\" ref=\"pos3\">———— 商品详情 ————</span>\n\t\t\t<van-row class=\"subImg\">\n\t\t\t\t<van-col span=\"24\" v-for=\"(item,index) in subImages\" :key=\"index\">\n\t\t\t\t\t<van-image\n\t\t\t\t\t\t:src=\"item.PicUrl\"\n\t\t\t\t\t\tlazy-load\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\theight=\"auto\"\n\t\t\t\t\t/>\n\t\t\t\t</van-col>\n\t\t\t</van-row>\n\t\t\t\n\t\t\t<span id=\"gd\">———— 已经到底了 ————</span>\n\t\t\t<van-icon v-if=\"showTab\" class=\"upArrow\" :name=\"upArrow\" size=\"2.5rem\" @click=\"scrollTop\"/>\n\t\t</div>\n\t\t\n\t\t\n\t\n\t\t<van-goods-action>\n\t\t\t<van-goods-action-icon icon=\"chat-o\" text=\"客服\" @click=\"onClickChat\"/>\n\t\t\t<van-goods-action-icon icon=\"cart-o\" text=\"购物车\" :info=\"cartInfo\" @click=\"onCartClick\" />\n\t\t\t<van-goods-action-button type=\"warning\" text=\"加入购物车\" @click=\"onAddToCart\"/>\n\t\t\t<van-goods-action-button type=\"danger\" text=\"立即购买\" @click=\"onBuyClick\"/>\n\t\t</van-goods-action>\n\t\t\n\t</div>\n</template>\n\n<script>\n\timport {NavBar,Icon,Row,Col,Button,Image,CellGroup,Cell,GoodsAction,GoodsActionIcon,GoodsActionButton,Stepper,Toast} from 'vant'\n\timport {Images} from '@/resources/index.js'\n\texport default{\n\t\tcomponents:{\n\t\t\t[NavBar.name]:NavBar,\n\t\t\t[Icon.name]:Icon,\n\t\t\t[Row.name]:Row,\n\t\t\t[Col.name]:Col,\n\t\t\t[Button.name]:Button,\n\t\t\t[Image.name]:Image,\n\t\t\t[CellGroup.name]:CellGroup,\n\t\t\t[Cell.name]:Cell,\n\t\t\t[GoodsAction.name]:GoodsAction,\n\t\t\t[GoodsActionIcon.name]:GoodsActionIcon,\n\t\t\t[GoodsActionButton.name]:GoodsActionButton,\n\t\t\t[Stepper.name]:Stepper,\n\t\t\t[Toast.name]:Toast\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tbackImg:Images.shop.ic_back,\n\t\t\t\tgoodsDetail:'',\n\t\t\t\tshowTab:false,\n\t\t\t\ticon:Images.shop.ic_item,\n\t\t\t\tgoodsNum:1,\n\t\t\t\tcomments:0,\n\t\t\t\tallComments:[],\n\t\t\t\tupArrow:Images.common.ic_up_arrow,\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tgoBack(){\n\t\t\t\tthis.$store.commit('changeTabbarActive',this.$store.state.fromPage)\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tgetAllComments(count){\n\t\t\t\tvar url = '/order/getProductComment?product_id='+this.goodsDetail.ID+'&page='+count\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif (response.data.status === 1) {\n\t\t\t\t\t\tthis.$store.commit(\"allComments\",response.data.obj)\n\t\t\t\t\t\tthis.allComments = response.data.obj\n\t\t\t\t\t} \n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast(\"网络请求出错\")\n\t\t\t\t})\n\t\t\t},\n\t\t\tonCartClick(){\n\t\t\t\tthis.$router.push('/cart')\n\t\t\t},\n\t\t\tonAddToCart(){\n\t\t\t\tvar url = '/cart/add?user_id='+this.$store.state.userID+'&product_id='+this.goodsDetail.ID+'&quantity='+this.goodsNum+'&token='+this.$store.state.token\n\t\t\t\t// var data = {\n\t\t\t\t// \tuser_id:this.$store.state.userID,\n\t\t\t\t// \tProductID:this.goodsDetail.ID,\n\t\t\t\t// \tQuantity:this.goodsNum,\n\t\t\t\t// \tChecked:true\n\t\t\t\t// }\n\t\t\t\tthis.axios.get(url).then((response)=>{\n\t\t\t\t\tif(response.data.detail && response.data.detail === 'token异常，重新登陆') {\n\t\t\t\t\t\tToast('登陆过期，请重新登录')\n\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t}else if (response.data.status === 1) {\n\t\t\t\t\t\tthis.updateCartScreen()\n\t\t\t\t\t\tToast(\"添加成功\")\n\t\t\t\t\t} else{\n\t\t\t\t\t\tToast(\"添加失败，请重试\")\n\t\t\t\t\t}\n\t\t\t\t}).catch((response)=>{\n\t\t\t\t\tToast('网络请求出错，请重试')\n\t\t\t\t})\n\t\t\t},\n\t\t\tonBuyClick(){\n\t\t\t\tvar data = {\n\t\t\t\t\tMainImage:this.goodsDetail.MainImage,\n\t\t\t\t\tName:this.goodsDetail.Name,\n\t\t\t\t\tgoodsNum:this.goodsNum,\n\t\t\t\t\tPrice:this.goodsDetail.Price,\n\t\t\t\t\tgoodsID:this.goodsDetail.ID,\n\t\t\t\t\tStock:this.goodsDetail.Stock\n\t\t\t\t}\n\t\t\t\tthis.$store.commit('confirmOrder',data)\n\t\t\t\tthis.$router.push('/confirmOrder')\n\t\t\t},\n\t\t\thandleScroll(){\n\t\t\t\tvar scrollY = document.documentElement.scrollTop || document.body.scrollTop\n\t\t\t\tif (scrollY > 200) {\n\t\t\t\t\tthis.showTab = true\n\t\t\t\t} else{\n\t\t\t\t\tthis.showTab = false\n\t\t\t\t}\n\t\t\t},\n\t\t\tscrollTop(){\n\t\t\t\tvar top = document.documentElement.scrollTop || document.body.scrollTop\n\t\t\t\tconst timeTop = setInterval(()=>{\n\t\t\t\t\tdocument.body.scrollTop = document.documentElement.scrollTop = top -= 50\n\t\t\t\t\tif (top <= 0) {\n\t\t\t\t\t\tclearInterval(timeTop)\n\t\t\t\t\t}\n\t\t\t\t},10)\n\t\t\t},\n\t\t\tupdateCartScreen(){\n\t\t\t\tvar goodsID = this.goodsDetail.ID\n\t\t\t\tvar index = 0\n\t\t\t\tif (this.$store.state.allDatas.data) {\n\t\t\t\t\tindex = this.$store.state.allDatas.data.findIndex((item)=>{\n\t\t\t\t\t\treturn item.ProductID === goodsID\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (index === -1) {\n\t\t\t\t\tthis.$store.commit({type:'addToCart1',data:this.goodsDetail,num:this.goodsNum})\n\t\t\t\t}else{\n\t\t\t\t\tthis.$store.commit({type:'addToCart2',index:index,num:this.goodsNum})\n\t\t\t\t}\n\t\t\t},\n\t\t\tgoComments(){\n\t\t\t\tthis.$router.push('/allComments/'+this.goodsDetail.ID)\n\t\t\t},\n\t\t\tgoPos(index){\n\t\t\t\tswitch (index){\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\twindow.scrollTo(0,this.$refs.pos1.offsetTop)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\twindow.scrollTo(0,this.$refs.pos2.offsetTop - 25)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\twindow.scrollTo(0,this.$refs.pos3.offsetTop - 25)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonClickChat(){\n\t\t\t\tconsole.log('通过商家客服id进入聊天界面')\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\ttotalPrice(){\n\t\t\t\tvar total = this.goodsDetail.Price * this.goodsNum\n\t\t\t\ttotal = parseFloat(total)\n\t\t\t\ttotal = total.toFixed(2)\n\t\t\t\ttotal = total.toLocaleString()\n\t\t\t\treturn total+\" Block\"\n\t\t\t},\n\t\t\tusername(){\n\t\t\t\treturn this.allComments[0].UserName.replace(this.allComments[0].UserName.substring(3,7),\"****\")\n\t\t\t},\n\t\t\tsubImages(){\n\t\t\t\treturn this.goodsDetail.SubImages ? JSON.parse(this.goodsDetail.SubImages) : []\n\t\t\t},\n\t\t\tcartInfo(){\n\t\t\t\treturn this.$store.state.allDatas.data.length\n\t\t\t}\n\t\t},\n\t\twatch:{\n\t\t\tgoodsNum(){\n\t\t\t\tthis.goodsNum = this.goodsNum <= this.goodsDetail.Stock ? this.goodsNum : this.goodsDetail.Stock\n\t\t\t}\n\t\t},\n\t\tbeforeMount() {\n\t\t\tthis.goodsDetail = this.$store.state.goodsDetail\n\t\t\tthis.$store.commit(\"requestAllCommentsCount\",0)\n\t\t\tthis.getAllComments(this.$store.state.requestAllCommentsCount)\n\t\t},\n\t\tmounted(){\n\t\t\twindow.addEventListener('scroll',this.handleScroll)\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t#detail{\n\t\tbackground: white;\n\t}\n\t.van-nav-bar{\n\t\tbackground: rgba(0,0,0,0);\n\t\tz-index: 1;\n\t}\n\t.backBtn{\n\t\tfont-size: 1.5rem;\n\t}\n\t.hidetab{\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\theight: 2rem;\n\t\tline-height: 2rem;\n\t\tz-index: 1;\n\t\tbackground: white;\n\t}\n\t.hidetab .van-col:first-child{\n\t\ttext-align: left;\n\t\tpadding-left: 0.3125rem;\n\t\tpadding-top: 0.25rem;\n\t}\n\t.hidetab .van-button{\n\t\theight: 2rem;\n\t\tline-height: 2rem;\n\t\tborder: none;\n\t\tbackground: rgba(0,0,0,0);\n\t\tcolor: gray;\n\t}\n\t.container{\n\t\tmargin-bottom: 3.125rem;\n\t}\n\t.mainImg{\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tmax-height: 25rem;\n\t}\n\t.price{\n\t\tcolor: red;\n\t\tfont-size: 0.75rem;\n\t\ttext-align: left;\n\t}\n\t.price span{\n\t\tfont-size: 1.25rem;\n\t\tmargin-left: 0.625rem;\n\t}\n\t.title{\n\t\tfont-size: 0.9375rem;\n\t\ttext-align: left;\n\t\tmargin: 0.3125rem 0.625rem 0;\n\t\tfont-weight: bold;\n\t}\n\t.desc{\n\t\tfont-size: 0.75rem;\n\t\ttext-align: left;\n\t\tmargin: 0.3125rem 0.625rem 0;\n\t\tcolor: #564F5F;\n\t}\n\t.icon{\n\t\ttext-align: left;\n\t\tmargin: 0.3125rem 0.625rem 0;\n\t}\n\t.icon .van-icon{\n\t\tfont-size: 0.625rem;\n\t}\n\t.icon span{\n\t\tmargin-left: 0.3125rem;\n\t\tmargin-right: 0.625rem;\n\t\tfont-size: 0.75rem;\n\t}\n\t.van-cell:after{\n\t\tborder: none;\n\t}\n\t.stockValue{\n\t\tfont-size: 1.25rem;\n\t\tcolor: red;\n\t}\n\t.quantity .van-col{\n\t\tpadding: 0.625rem 1rem;\n\t\tfont-size: 0.875rem;\n\t\tline-height: 1.5rem;\n\t}\n\t.quantity .van-col:first-child{\n\t\ttext-align: left;\n\t\tfont-size: 0.9375rem;\n\t}\n\t.quantity .van-col:last-child{\n\t\ttext-align: right;\n\t}\n\t.inventory,.totalPrice,.commits{\n\t\ttext-align: left;\n\t}\n\t.commits .van-cell__value:last-child{\n\t\ttext-align: left;\n\t}\n\t.commits .com2 {\n\t\tfont-size: 0.875rem;\n\t\ttext-align: center;\n\t\tcolor: #999999;\n\t}\n\t#gd{\n\t\ttext-align: center;\n\t\tdisplay: block;\n\t\theight: 1.875rem;\n\t\tline-height: 1.875rem;\n\t\tfont-size: 0.625rem;\n\t\tcolor: gray;\n\t\tbackground: #F5F5F5;\n\t}\n\t.subImg .van-col,.subImg .van-image{\n\t\tborder: 0 none;\n\t\tmargin: 0 0 -3px;\n\t\tpadding: 0;\n\t}\n\t.upArrow{\n\t\tposition: fixed;\n\t\tright: 0.9375rem;\n\t\tbottom: 4.375rem;\n\t}\n</style>\n\n"]}]}